(this["webpackJsonpmlp-client"]=this["webpackJsonpmlp-client"]||[]).push([[0],{331:function(e,n,a){e.exports=a.p+"static/media/waiwai-logo.e57023e1.svg"},338:function(e,n,a){e.exports=a.p+"static/media/childcare.3217e63b.svg"},339:function(e,n,a){e.exports=a.p+"static/media/debt.72b94b4b.svg"},340:function(e,n,a){e.exports=a.p+"static/media/dollar-sign.69e96d44.svg"},341:function(e,n,a){e.exports=a.p+"static/media/education.28dcaf58.svg"},342:function(e,n,a){e.exports=a.p+"static/media/entertainment.f805bade.svg"},343:function(e,n,a){e.exports=a.p+"static/media/food-background.b4828793.svg"},344:function(e,n,a){e.exports=a.p+"static/media/housing.aa8416a1.svg"},345:function(e,n,a){e.exports=a.p+"static/media/insurance.ccb70d55.svg"},346:function(e,n,a){e.exports=a.p+"static/media/miscellaneous.41d25eac.svg"},347:function(e,n,a){e.exports=a.p+"static/media/personal.56aa4ee5.svg"},348:function(e,n,a){e.exports=a.p+"static/media/savings.0d8cb36a.svg"},349:function(e,n,a){e.exports=a.p+"static/media/transportation.7ab81113.svg"},350:function(e,n,a){e.exports=a.p+"static/media/utilities.73512e34.svg"},372:function(e,n,a){e.exports=a(430)},377:function(e,n,a){},385:function(e,n,a){},430:function(e,n,a){"use strict";a.r(n);var t=a(0),l=a.n(t),r=a(49),c=a.n(r),o=(a(377),a(26)),i=a(35),s=a(22),u=a(359),d=a(20),m=function(e){var n=e.children,a=Object(o.k)();return l.a.createElement(d.a,{domain:"waiwai.us.auth0.com",clientId:"KMLjF0AfyoJceimmTTDOXhVi60C65kjH",redirectUri:window.location.origin+"/mern-plaid",onRedirectCallback:function(e){a.push((null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)},audience:"https://waiwai/auth"},n)},p=a(361),_=function(){return l.a.createElement("div",{className:"spinner"},l.a.createElement("img",{src:"https://cdn.auth0.com/blog/auth0-react-sample/assets/loading.svg",alt:"Loading"}))},y=function(e){var n=e.component,a=Object(p.a)(e,["component"]);return l.a.createElement(o.d,Object.assign({component:Object(d.d)(n,{onRedirecting:function(){return l.a.createElement(_,null)}})},a))},g=(a(385),a(68)),b=a(97),E=a(131),h=a(130),f=a(73),v=a(331),w=a.n(v),N=a(332),D=function(){var e=Object(d.b)().logout;return l.a.createElement(N.a,{onClick:function(){return e({returnTo:window.location.origin+"/mern-plaid"})},variant:"danger",className:"btn-margin"},"Log Out")},T=Object(s.b)((function(e){return{userName:e.auth.user.name}}),{})((function(e){var n=Object(d.b)(),a=n.isAuthenticated,t=n.user.name;return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{expand:"lg"},l.a.createElement(g.LinkContainer,{to:"/spend-story"},l.a.createElement(b.a,null,l.a.createElement(h.a.Brand,{href:"#"},l.a.createElement("img",{alt:"Waiwai Logo",src:w.a,width:"30",height:"30",className:"d-inline-block align-top"}),"Waiwai"))),l.a.createElement(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(h.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(E.a,null,a?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"mr-auto navbar-nav"},l.a.createElement(f.a,{renderMenuOnMount:!0,title:"spend",id:"hover-nav-dropdown",className:"dropdown-menu-left"},l.a.createElement(g.LinkContainer,{to:"/spend-story"},l.a.createElement(f.a.Item,null,"spend story")),l.a.createElement(g.LinkContainer,{to:"/manage-transactions"},l.a.createElement(f.a.Item,null,"view transactions")),l.a.createElement(g.LinkContainer,{to:"/spend-plan"},l.a.createElement(f.a.Item,null,"manage spend plan"))),l.a.createElement(g.LinkContainer,{to:"/save-story"},l.a.createElement(E.a.Link,{href:"#"},"save")),l.a.createElement(g.LinkContainer,{to:"/borrow-story"},l.a.createElement(E.a.Link,{href:"#"},"borrow")),l.a.createElement(g.LinkContainer,{to:"/plan-story"},l.a.createElement(E.a.Link,{href:"#"},"plan"))),l.a.createElement(f.a,{title:t,id:"basic-nav-dropdown",className:"ml-auto dropdown-menu-right"},l.a.createElement(g.LinkContainer,{to:"/user-profile"},l.a.createElement(f.a.Item,{href:"#"},"Profile")),l.a.createElement(g.LinkContainer,{to:"/bank-accounts"},l.a.createElement(f.a.Item,{href:"#"},"Bank Accounts")),l.a.createElement(f.a.Item,{className:"notButton",href:"#"},l.a.createElement(D,null)))):l.a.createElement(l.a.Fragment,null)))))})),A=function(){return l.a.createElement("footer",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"mr-auto footer-nav"},l.a.createElement(i.Link,{to:"/spend-story"},"spend"),l.a.createElement(i.Link,{to:"/save-story"},"save"),l.a.createElement(i.Link,{to:"/borrow-story"},"borrow"),l.a.createElement(i.Link,{to:"/plan-story"},"plan"))),l.a.createElement("div",{className:"row"},l.a.createElement("p",{className:"col-sm"},l.a.createElement("small",null,"\xa9",(new Date).getFullYear()," WAIWAI | Ua kukulu \u02bbia i Hawai\u02bbi me ke aloha nui")))))},S=a(72),C=function(){var e=Object(d.b)().loginWithRedirect;return l.a.createElement(N.a,{onClick:function(){return e()},variant:"primary",className:"btn-margin"},"Log In")},R=function(){var e=Object(d.b)().loginWithRedirect;return l.a.createElement(N.a,{onClick:function(){return e({screen_hint:"signup"})},variant:"primary",className:"btn-margin"},"Sign Up")},O=function(e){var n=Object(t.useState)(""),a=Object(S.a)(n,2),r=a[0],c=a[1];return l.a.createElement("div",{className:"full-page mountain-background"},l.a.createElement("div",{className:"login-box  p-5"},l.a.createElement("h1",null,"M\u0101lama Wai. Ho'oulu Waiwai"),l.a.createElement("p",null,"Manage your financial resources. Grow waiwai."),l.a.createElement("p",null,"To login or signup, please enter your beta invite code:"),l.a.createElement("input",{value:r,onChange:function(e){var n=e.target.value.trim();c(n)},style:{width:"25em"}}),r===e.accessCheck?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"(Invite code accepted)"),l.a.createElement("div",{className:"button-box"},l.a.createElement(C,null),l.a.createElement("br",null),l.a.createElement(R,null))):l.a.createElement(l.a.Fragment,null)))},I=a(164),k=a(165),B=a(187),j=a(186),P=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}),x=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),F=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0}),U=Object(s.b)((function(e){return{spendRangeDaysSelected:e.plaid.spendRangeDaysSelected}}),{})((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"section-space"}),l.a.createElement("div",{className:"section section-header-generic"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 col-sm-6 offset-sm-3 justify-content-center text-center"},l.a.createElement("h1",null,e.mainHeaderText,l.a.createElement("br",null),l.a.createElement("span",{className:"small bottom"},e.subHeaderText)))))))})),z=a(458),L=a(338),G=a.n(L),M=a(339),W=a.n(M),K=a(340),V=a.n(K),H=a(341),q=a.n(H),Z=a(342),Q=a.n(Z),J=a(343),X=a.n(J),Y=a(344),$=a.n(Y),ee=a(345),ne=a.n(ee),ae=a(346),te=a.n(ae),le=a(347),re=a.n(le),ce=a(348),oe=a.n(ce),ie=a(349),se=a.n(ie),ue=a(350),de=a.n(ue),me=Object(s.b)((function(e){return{budgets:e.auth.budgets,categoryMap:e.auth.categoryMap,spendingByCategory:e.plaid.spendingByCategory}}),{})((function(e){var n=0,a=0,t=0,r="",c="",o="",i=te.a;e.budgetAmount&&(n=e.budgetAmount),e.spentAmount&&(a=e.spentAmount),0!==n&&(t=a/n),"Income"===e.categoryName&&(i=V.a),"Housing"===e.categoryName&&(i=$.a),"Transportation"===e.categoryName&&(i=se.a),"Food"===e.categoryName&&(i=X.a),"Utilities"===e.categoryName&&(i=de.a),"Insurance & Healthcare"===e.categoryName&&(i=ne.a),"Debt"===e.categoryName&&(i=W.a),"Personal"===e.categoryName&&(i=re.a),"Education"===e.categoryName&&(i=q.a),"Child Care"===e.categoryName&&(i=G.a),"Savings"===e.categoryName&&(i=oe.a),"Entertainment"===e.categoryName&&(i=Q.a),e.underBudget?(o="dark-green-background",r=x.format(n-a),0!==n||0===a?(c=F.format(t),t*=100):c="--"):(o="brown-yellow-background",c=x.format(a),0!==n||0===a?(r=F.format(t),t*=100):r="--");var s=x.format(n);return l.a.createElement("div",{className:"card card-blog"},l.a.createElement("div",{className:"card-image "+o},l.a.createElement("img",{className:"img ",alt:"Category Name",src:i}),l.a.createElement("div",{className:"card-img-overlay"},l.a.createElement("h5",null,e.categoryName))),l.a.createElement("div",{className:"card-body text-center"},l.a.createElement("h4",{className:"card-title text-left"},r,l.a.createElement("span",{className:"small bottom"},l.a.createElement("br",null),e.underBudget?"Available":"Spent")),l.a.createElement("div",{className:"card-description"},l.a.createElement(z.a,{now:e.underBudget?t:100,variant:e.underBudget?"success":"warning"})),l.a.createElement("div",{className:"card-footer"},l.a.createElement("div",{className:"row mt-3"},l.a.createElement("div",{className:"col"},l.a.createElement("p",{className:" text-left"},s,l.a.createElement("span",{className:"small bottom"},l.a.createElement("br",null),"Budget"))),l.a.createElement("div",{className:"col"},l.a.createElement("p",{className:" text-left"},c,l.a.createElement("span",{className:"small bottom"},l.a.createElement("br",null),"Spent")))))))})),pe=function(e){Object(B.a)(a,e);var n=Object(j.a)(a);function a(){return Object(I.a)(this,a),n.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){var e=this.props.auth0.user.name,n=this.props,a=n.plaid,t=n.auth;return a.userFirstVisit?l.a.createElement("div",null,l.a.createElement(o.c,{to:"/bank-accounts"})):a.accounts&&0!==a.accounts.length?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(U,{mainHeaderText:e,subHeaderText:"Spend Story"}),l.a.createElement("div",{className:"section income-spend"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("div",{className:"container text-md-left"},l.a.createElement("h1",{className:"large-number"},l.a.createElement("span",{className:"small top"},"Income"),l.a.createElement("br",null),x.format(a.incomeSum)),l.a.createElement("h3",null,l.a.createElement("span",{className:"small top"},"Paycheck"),l.a.createElement("br",null),x.format(a.paycheckSum)),l.a.createElement("h3",null,l.a.createElement("span",{className:"small top"},"Other Source"),l.a.createElement("br",null),x.format(a.otherIncomeSum)))),l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("div",{className:"container text-md-right"},l.a.createElement("h1",{className:"large-number"},l.a.createElement("span",{className:"small top"},"Spent"),l.a.createElement("br",null),x.format(a.spendingSum)),l.a.createElement("h3",null,l.a.createElement("span",{className:"small top"},"Transactions"),l.a.createElement("br",null),a.totalTransactionCount),l.a.createElement("h3",null,l.a.createElement("span",{className:"small top"},"Transactions reviewed"),l.a.createElement("br",null),F.format(a.reviewedTransactionCount/a.totalTransactionCount))))),l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-sm-4 text-center"},l.a.createElement(i.Link,{to:"/manage-transactions",className:"btn mt-4"},"view transactions"))))),l.a.createElement("div",{className:"section section-spending-plan"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("h1",{className:"darktext"},"Spending Plan",l.a.createElement("br",null),l.a.createElement("span",{className:"small bottom"},"Breakdown"))),l.a.createElement("div",{className:"row mt-5 mb-3"},l.a.createElement("h3",{className:"large-number"},x.format(a.incomeSum-t.expenseBudgetSum),l.a.createElement("br",null),l.a.createElement("span",{className:"small bottom"},"budget available"))),l.a.createElement("div",{className:"row"},l.a.createElement(i.Link,{to:"/spend-plan",className:"btn"},"manage spend plan"))))))),l.a.createElement("div",{className:"section section-spend-categories"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h1",null,"Spend Plan")),l.a.createElement("div",{className:"col-md-6 text-md-right"},l.a.createElement("h3",{className:"large-number"},x.format(t.expenseBudgetSum),l.a.createElement("br",null),l.a.createElement("span",{className:"small bottom"},"total budget")))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-8 pt-4 pb-4"},l.a.createElement("h4",null,"On track",l.a.createElement("br",null),l.a.createElement("span",{className:"small bottom"},a.sortedCategoriesUnderBudget.length,1===a.sortedCategoriesUnderBudget.length?" category":" catiegories")))),l.a.createElement("div",{className:"row"},a.sortedCategoriesUnderBudget.map((function(e,n){return e.includes("Income")?l.a.createElement(l.a.Fragment,{key:e}):l.a.createElement("div",{key:e,className:"col-lg-3 col-md-4 col-sm-6"},l.a.createElement(me,{categoryName:e,underBudget:!0,budgetAmount:t.budgets[e],spentAmount:a.spendingByCategory[e]}))}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-8 pt-4 pb-4"},l.a.createElement("h4",null,"Needs Work",l.a.createElement("br",null),l.a.createElement("span",{className:"small bottom"},a.sortedCategoriesOverBudget.length,1===a.sortedCategoriesOverBudget.length?" category":" catiegories")))),l.a.createElement("div",{className:"row"},a.sortedCategoriesOverBudget.map((function(e,n){return e.includes("Income")?l.a.createElement(l.a.Fragment,{key:e}):l.a.createElement("div",{key:e,className:"col-lg-3 col-md-4 col-sm-6"},l.a.createElement(me,{categoryName:e,underBudget:!1,budgetAmount:t.budgets[e],spentAmount:a.spendingByCategory[e]}))}))))),l.a.createElement("div",{className:"section section-spend-plan-footer"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row mt-5"},l.a.createElement("div",{className:"col-md-6 offset-md-1"},l.a.createElement("h2",{className:"large-number"},l.a.createElement("span",{className:"small top"},"Surplus"),l.a.createElement("br",null),x.format(a.incomeSum-a.spendingSum)))))))):l.a.createElement("div",null,l.a.createElement(U,{mainHeaderText:e,subHeaderText:"Spend Story"}),l.a.createElement(_,null))}}]),a}(t.Component),_e=Object(s.b)((function(e){return{plaid:e.plaid,auth:e.auth}}),{})(Object(d.c)(pe)),ye=a(13),ge=a(225),be=a(57),Ee=a(30),he=a.n(Ee),fe=(a(351),[{x:1,name:"Housing"},{x:2,name:"Transportation"},{x:3,name:"Food"},{x:4,name:"Utilities"},{x:5,name:"Insurance & Healthcare"},{x:6,name:"Debt"},{x:7,name:"Personal"},{x:8,name:"Education"},{x:9,name:"Child Care"},{x:10,name:"Entertainment"},{x:11,name:"Savings"},{x:12,name:"Income"}]),ve={Housing:0,Transportation:0,Food:0,Utilities:0,"Insurance & Healthcare":0,Debt:0,Personal:0,Education:0,"Child Care":0,Entertainment:0,Savings:0,Income:0},we=function(e,n,a){var t=[],l=[],r=Object(be.a)(e);return r.sort((function(e,t){return n[e.name]/a[e.name]-n[t.name]/a[t.name]})),r.forEach((function(e){n[e.name]/a[e.name]<=1?t.push(e.name):l.push(e.name)})),{underBudgets:t,overBudgets:l}},Ne=function(e,n){return function(a){var t={},l=0,r=0,c=0,o=0,i=0,s=0,u=Object(ye.a)({},ve),d=Object(be.a)(fe),m=1;if(e&&e.length){e.forEach((function(e){e.transactions.forEach((function(e){var n=e.category[0],a=e.waiwai_categories[0],t=e.plaid_categories[0],p=0;e.isDuplicate||(p=-1*e.amount,l++,e.isReviewed&&r++,p<0?(s+=-1*p,void 0!==u[n]?u[n]+=-1*p:(d.push({x:m,waiwaiName:a,plaidName:t,name:n}),m++,u[n]=-1*p)):(i+=p,"Income - Paycheck"===e.category[0]?c+=p:o+=p))}))}));var p=we(d,u,n);t.incomeSum=i,t.spendingSum=s,t.totalTransactionCount=l,t.categoriesThisSpendRange=d,t.spendingByCategory=u,t.sortedCategoriesOverBudget=p.overBudgets,t.sortedCategoriesUnderBudget=p.underBudgets,t.paycheckSum=c,t.otherIncomeSum=o,t.reviewedTransactionCount=r}a({type:"SET_TRANSACTION_DATA",payload:t})}},De=function(e){he.a.defaults.headers.common.Authorization="Bearer ".concat(e)},Te=function(){return{type:"ACCOUNTS_LOADING"}},Ae=function(e,n){return function(a,t){e&&De(e),n&&0!==n.length&&(a(Se()),he.a.post("/api/plaid/accounts/transactions",n).then((function(e){if(e.data.transactions){var n=t();a(Ne(e.data.transactions,n.auth.budgets)),a({type:"GET_TRANSACTIONS",payload:e.data.transactions})}e.data.needUpdate&&e.data.needUpdate.length&&e.data.needUpdate.forEach((function(e){a({type:"UPDATE_ACCOUNT",payload:e})}))})).catch((function(e){console.log(e),a({type:"GET_TRANSACTIONS",payload:null})})))}},Se=function(){return{type:"TRANSACTIONS_LOADING"}},Ce=function(e){he.a.defaults.headers.common.Authorization="Bearer ".concat(e)},Re=function(e,n){return function(a,t){var l=t();e&&Ce(e);var r=l.plaid,c=r.categoriesThisSpendRange,o=r.spendingByCategory,i=l.auth.expenseBudgetSum,s=0;l.auth.budgets[n.name]&&(s=l.auth.budgets[n.name]);var u=n.payload[n.name],d=Object(ye.a)(Object(ye.a)({},l.auth.budgets),n.payload),m=n.name.includes("Income"),p=i-s+u;if(m&&(p=i),a(Oe({allBudgets:d,expenseBudgetSum:p})),!m){var _=we(c,o,d),y={sortedCategoriesOverBudget:_.overBudgets,sortedCategoriesUnderBudget:_.underBudgets};a({type:"SET_TRANSACTION_DATA",payload:y})}he.a.post("/api/users/budgets",{budgetName:n.name,budgetAmount:u,expenseBudgetSum:p}).then((function(e){return e})).catch((function(e){var n=e;e.response&&(n=e.response.data),a({type:"GET_ERRORS",payload:n})}))}},Oe=function(e){return{type:"SET_BUDGETS",payload:e}},Ie={saveUserBudget:Re},ke=Object(s.b)((function(e){return{spendingByCategory:e.plaid.spendingByCategory}}),Ie)((function(e){var n=Object(d.b)().getAccessTokenSilently,a=Object(t.useState)(""),r=Object(S.a)(a,2),c=r[0],o=r[1],i=Object(t.useState)(!1),s=Object(S.a)(i,2),u=s[0],m=s[1],p=e.category,_=e.saveUserBudget,y=e.propBudget;return Object(t.useEffect)((function(){p&&(y||0===y)&&o(y+"")}),[y,p,o]),l.a.createElement("tr",null,l.a.createElement("td",null,e.category.name),l.a.createElement("td",null),l.a.createElement("td",null,l.a.createElement("input",{value:c,type:"number",onChange:function(e){var n=e.target.value;"$"===n.charAt(0)&&(n=n.substring(1)),o(n),m(!0)}}),l.a.createElement("button",{className:"btn secondary",onClick:function(){return function(){var e={name:p.name,payload:{}},a="";void 0!==c&&c.trim&&(a=c.trim());var t=!1;a&&(t=!isNaN(a)),t?(e.payload[p.name]=parseFloat(a),n().then((function(n){_(n,e)})),m(!1)):o(y)}()},style:{visibility:u?"visible":"hidden"}},"Save")),l.a.createElement("td",null,P.format(e.spendingByCategory[e.category.name])))})),Be=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"section-space"}),l.a.createElement("div",{className:"section "+e.colorClassName},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 col-sm-6 offset-sm-3 justify-content-center text-center"},l.a.createElement("h1",null,e.mainHeaderText,l.a.createElement("br",null),l.a.createElement("span",{className:"small bottom"},e.subHeaderText)))))))},je={totalIncomeBudget:0,payIncomeBudget:0,otherIncomeBudget:0},Pe=function(e,n){var a=n.payload;switch(""===a&&(a="0"),n.type){case"Income":return Object(ye.a)(Object(ye.a)({},e),{},{otherIncomeBudget:n.payload,totalIncomeBudget:e.payIncomeBudget+parseFloat(a)});case"Income - Paycheck":return Object(ye.a)(Object(ye.a)({},e),{},{payIncomeBudget:n.payload,totalIncomeBudget:e.otherIncomeBudget+parseFloat(a)});default:return e}},xe={saveUserBudget:Re},Fe=Object(s.b)((function(e){return{budgets:e.auth.budgets,incomeSum:e.plaid.incomeSum,paycheckSum:e.plaid.paycheckSum,otherIncomeSum:e.plaid.otherIncomeSum,categoriesThisSpendRange:e.plaid.categoriesThisSpendRange,spendRangeDays:e.auth.spendRangeDays,accountsLoading:e.plaid.accountsLoading,transactionsLoading:e.plaid.transactionsLoading}}),xe)((function(e){var n=Object(d.b)().getAccessTokenSilently,a=Object(t.useReducer)(Pe,je),r=Object(S.a)(a,2),c=r[0],o=r[1],i=e.budgets,s=e.saveUserBudget,u=c.payIncomeBudget,m=c.otherIncomeBudget,p=Object(t.useCallback)((function(e){e&&(e.Income&&o({type:"Income",payload:e.Income}),e["Income - Paycheck"]&&o({type:"Income - Paycheck",payload:e["Income - Paycheck"]}))}),[o]);Object(t.useEffect)((function(){p(i)}),[i,p]);var y=Object(t.useCallback)((function(e){var a={name:e,payload:{}},t=("Income - Paycheck"===e?u:m).trim();""!==t&&!isNaN(t)&&(a.payload[e]=parseFloat(t),n().then((function(e){s(e,a)})))}),[u,m,n,s]),g=function(e,n){var a=e.target.value;"$"===a.charAt(0)&&(a=a.substring(1));var t=a.trim();o({type:n,payload:t})};return e.accountsLoading||e.transactionsLoading?l.a.createElement(_,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(Be,{mainHeaderText:"Spend",subHeaderText:"Plan",colorClassName:"section-header-blue"}),l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h2",null,"Income"),l.a.createElement(ge.a,{hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Waiwai category"),l.a.createElement("th",null),l.a.createElement("th",null,"Budget for ",e.spendRangeDays," days"),l.a.createElement("th",null,"Earned last ",e.spendRangeDays," days"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Income Total"),l.a.createElement("td",null),l.a.createElement("td",null,P.format(c.totalIncomeBudget)),l.a.createElement("td",null,P.format(e.incomeSum))),l.a.createElement("tr",null,l.a.createElement("td",null,"Paycheck Total"),l.a.createElement("td",null),l.a.createElement("td",null,P.format(c.payIncomeBudget)),l.a.createElement("td",null,P.format(e.paycheckSum))),l.a.createElement("tr",null,l.a.createElement("td",null,"Other Income Total"),l.a.createElement("td",null),l.a.createElement("td",null,P.format(c.otherIncomeBudget)),l.a.createElement("td",null,P.format(e.otherIncomeSum))))),l.a.createElement("div",{className:"mt-5"},l.a.createElement("h3",null,"Add Income Sources")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("label",{className:"mt-4"},"Expected Paycheck Total For ",e.spendRangeDays," Days"),l.a.createElement("br",null),l.a.createElement("input",{value:c.payIncomeBudget,onChange:function(e){return g(e,"Income - Paycheck")},type:"number",className:"form-control"})),l.a.createElement("div",{className:"col"},l.a.createElement("label",{className:"mt-4"},"Expected Other Income Total For ",e.spendRangeDays," Days"),l.a.createElement("br",null),l.a.createElement("input",{value:c.otherIncomeBudget,onChange:function(e){return g(e,"Income")},type:"number",className:"form-control"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("button",{onClick:function(){return y("Income - Paycheck")},className:"btn secondary mt-4"},"Save")),l.a.createElement("div",{className:"col"},l.a.createElement("button",{onClick:function(){return y("Income")},className:"btn secondary mt-4"},"Save"))))))),l.a.createElement("div",{className:"section table-section"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h2",null,"Expenses"),l.a.createElement(ge.a,{hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Waiwai category"),l.a.createElement("th",null),l.a.createElement("th",null,"Budget for ",e.spendRangeDays," days"),l.a.createElement("th",null,"Spent last ",e.spendRangeDays," days"))),l.a.createElement("tbody",null,e.categoriesThisSpendRange.map((function(e,n){return e.name.includes("Income")?l.a.createElement(l.a.Fragment,{key:e.name}):l.a.createElement(ke,{key:e.name,category:e,propBudget:i[e.name]})})))))))))})),Ue=a(356),ze=a(52),Le=a(352),Ge=a.n(Le),Me=function(e){var n=[];return e.forEach((function(e){e.transactions.forEach((function(a){var t={update_obj:{id:a.transaction_id,name:a.category[0]},review_obj:{id:a.transaction_id,isReviewed:a.isReviewed},duplicate_obj:{id:a.transaction_id,isDuplicate:a.isDuplicate},account:e.accountName,date:a.date,category:a.category[0],name:a.name,amount:P.format(-1*a.amount)};n.push(t)}))})),n},We=function(e){Object(B.a)(a,e);var n=Object(j.a)(a);function a(){var e;Object(I.a)(this,a);for(var t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return(e=n.call.apply(n,[this].concat(r))).state={tableTransactions:[],updatedOnce:!1},e.onCategorySelect=function(n,a,t,l){var r={transactionID:t,newMainCategory:n};e.props.getAccessTokenSilently().then((function(n){e.props.setTransactionSettings(n,r)})),l({id:t,name:n})},e.onReviewClick=function(n,a){var t={transactionID:n.id,newReviewedState:!n.isReviewed};e.props.getAccessTokenSilently().then((function(n){e.props.setTransactionSettings(n,t)})),a({id:n.id,isReviewed:!n.isReviewed})},e.onDuplicateClick=function(n,a){var t={transactionID:n.id,newDuplicateState:!n.isDuplicate};e.props.getAccessTokenSilently().then((function(n){e.props.setTransactionSettings(n,t)})),a({id:n.id,isDuplicate:!n.isDuplicate})},e.transactionMUIColumns=[{label:"Date",name:"date"},{label:"Account",name:"account"},{label:"Name",name:"name"},{label:"Amount",name:"amount"},{label:"Category",name:"update_obj",options:{filter:!1,customBodyRender:function(n,a,t){return l.a.createElement(Ue.a,{disabled:!!a.rowData[6].isDuplicate,onSelect:function(a,l){return e.onCategorySelect(a,l,n.id,t)},id:"category-dropdown",title:n.name},fe.map((function(e){return l.a.createElement(ze.a.Item,{key:e.name,eventKey:e.name},"Income"===e.name?"Income - Other":e.name)})),l.a.createElement(ze.a.Item,{eventKey:"Income - Paycheck"},"Income - Paycheck"))}}},{label:"Reviewed?",name:"review_obj",options:{filter:!1,customBodyRender:function(n,a,t){return n.isReviewed||a.rowData[6].isDuplicate?l.a.createElement(l.a.Fragment,null,"\u2713"):l.a.createElement("button",{onClick:function(){return e.onReviewClick(n,t)},className:"btn secondary"},"\u2713")}}},{label:"Duplicate?",name:"duplicate_obj",options:{filter:!1,customBodyRender:function(n,a,t){return l.a.createElement("button",{name:n.isDuplicate?"Dupe":"None",onClick:function(){return e.onDuplicateClick(n,t)},className:"btn secondary"},n.isDuplicate?l.a.createElement(l.a.Fragment,null,"Undo"):l.a.createElement(l.a.Fragment,null,"Ignore"))}}}],e}return Object(k.a)(a,[{key:"shouldComponentUpdate",value:function(e,n){return 0===this.state.tableTransactions.length||!this.state.updatedOnce}},{key:"componentDidUpdate",value:function(){this.setState({tableTransactions:this.props.tableTransactions,updatedOnce:!0})}},{key:"render",value:function(){return 0===this.state.tableTransactions.length?l.a.createElement(_,null):l.a.createElement(Ge.a,{title:"Manage Transactions",data:this.state.tableTransactions,columns:this.transactionMUIColumns,options:{filterType:"checkbox",selectableRows:"none",sortOrder:{name:"date",direction:"desc"},setRowProps:function(e){return"Dupe"===e[6].props.name?{style:{textDecoration:"line-through"}}:{}}}})}}]),a}(l.a.Component),Ke={setTransactionSettings:function(e,n){return function(a,t){var l=t(),r=n.transactionID,c=n.newMainCategory,o=n.newReviewedState,i=n.newDuplicateState,s=void 0!==c,u=void 0!==o,d=void 0!==i,m=l.auth.perTransactionSettings,p=[],_=Object(ye.a)({},m);m&&m[r]?(_[r]=Object(ye.a)({},m[r]),m[r].userCategories&&s&&(p=Object(be.a)(m[r].userCategories))):_[r]={},s&&(p[0]=c,_[r].userCategories=p),u&&(_[r].isReviewed=o),d&&(_[r].isDuplicate=i),a({type:"GET_USER_INFO",payload:{newTransactionSettings:_}}),e&&Ce(e),he.a.post("/api/users/new-transaction-settings",{transactionID:r,settingData:_[r]}).then((function(e){return e})).catch((function(e){var n=e;e.response&&(n=e.response.data),a({type:"GET_ERRORS",payload:n})}));var y=l.plaid.transactions,g=Object(be.a)(y);a({type:"TRANSACTIONS_LOADING"});for(var b=0;b<g.length;b++)for(var E=g[b],h=Object(be.a)(E.transactions),f=0;f<h.length;f++){var v=h[f];if(v.transaction_id===r){var w=Object(ye.a)({},v),N=[];s&&((N=Object(be.a)(w.category))[0]=c,w.category=N),u&&(w.isReviewed=o),d&&(w.isDuplicate=i),h[f]=w,g[b]=Object(ye.a)(Object(ye.a)({},g[b]),{},{transactions:h}),f=h.length,b=g.length}}a(Ne(g,l.auth.budgets)),a({type:"GET_TRANSACTIONS",payload:g})}}},Ve=Object(s.b)((function(e){return{transactions:e.plaid.transactions,accountsLoading:e.plaid.accountsLoading,transactionsLoading:e.plaid.transactionsLoading,userFirstVisit:e.plaid.userFirstVisit}}),Ke)((function(e){var n=Object(d.b)().getAccessTokenSilently,a=Object(t.useState)([]),r=Object(S.a)(a,2),c=r[0],i=r[1],s=e.transactions,u=e.userFirstVisit;return Object(t.useEffect)((function(){if(s&&s.length){var e=Me(s);i(Object(be.a)(e))}}),[s,i]),u&&!c.length?l.a.createElement("div",null,l.a.createElement(o.c,{to:"/bank-accounts"})):e.accountsLoading||e.transactionsLoading?l.a.createElement(_,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(Be,{mainHeaderText:"Transaction",subHeaderText:"History",colorClassName:"section-header-green"}),l.a.createElement("div",{className:"section table-section"},l.a.createElement("div",{className:"container"},l.a.createElement(We,{tableTransactions:Me(s),getAccessTokenSilently:n,setTransactionSettings:e.setTransactionSettings}))))})),He=a(357),qe=Object(s.b)((function(e){return{accounts:e.plaid.accounts,accountsLoading:e.plaid.accountsLoading}}),{deleteAccount:function(e,n){return function(a,t){var l=t().plaid.accounts;if(e&&De(e),window.confirm("Are you sure you want to remove this account?")){var r=n.id,c=l.filter((function(e){return e._id!==r}));he.a.delete("/api/plaid/accounts/".concat(r)).then((function(e){return a({type:"DELETE_ACCOUNT",payload:r})})).then(c?a(Ae(e,c)):null).catch((function(e){return console.log(e)}))}}}})((function(e){var n=e.account,a=e.deleteAccount,r=n._id,c=Object(d.b)().getAccessTokenSilently,o=Object(t.useCallback)((function(){var e={id:r};c().then((function(n){a(n,e)}))}),[r,c,a]);return l.a.createElement(N.a,{onClick:o},"Delete")})),Ze=function(e){var n=e.refreshAccount,a=e.addAccount,r=Object(d.b)().getAccessTokenSilently,c=Object(t.useCallback)((function(e,n){var t={public_token:e,metadata:n};r().then((function(e){a(e,t)}))}),[a,r]),o=Object(t.useCallback)((function(e,a){var t={public_token:e,metadata:a};r().then((function(e){n({token:e,plaidData:t})}))}),[r,n]),i={clientName:"WaiWai localhost",publicKey:"b506a1d13e2c7e9d3a5f835103897e",env:"sandbox",product:["transactions"],onSuccess:c};e.existingAccount&&e.existingAccount.toRefresh&&(i.token=e.existingAccount.publicToken,i.onSuccess=o);var s=Object(He.usePlaidLink)(i),u=s.open,m=s.ready;return l.a.createElement(l.a.Fragment,null,l.a.createElement(N.a,{onClick:function(){return u()},disabled:!m||e.existingAccount&&!e.existingAccount.toRefresh},e.buttonText))};Ze.displayName="Plaid";var Qe={addAccount:function(e,n){return function(a,t){var l=t();e&&De(e),he.a.post("/api/plaid/accounts/add",n).then((function(e){return a({type:"ADD_ACCOUNT",payload:e.data})})).then((function(n){return l.plaid.accounts?a(Ae(e,l.plaid.accounts.concat(n.payload))):null})).catch((function(e){return console.log(e)}))}},refreshAccount:function(e){return function(n){var a=e.metadata.institution.institution_id,t=e.accounts;he.a.post("/api/plaid/accounts/refresh/".concat(a),e).then((function(e){return n({type:"REFRESH_ACCOUNT",payload:a})})).then((function(e){return t?n(Ae(t)):null})).catch((function(e){return console.log(e)}))}}},Je=Object(s.b)((function(e){return{}}),Qe)(Ze),Xe=Object(s.b)((function(e){return{accounts:e.plaid.accounts,accountsLoading:e.plaid.accountsLoading}}),{})((function(e){var n=e.accounts.map((function(e,n){return l.a.createElement("div",{className:"row mb-4",key:e._id},l.a.createElement("div",{className:"col"},l.a.createElement("h2",null,e.institutionName),l.a.createElement(Je,{className:"Secondary",buttonText:"Refresh",existingAccount:e})," ",l.a.createElement("span",{className:"notButton"},l.a.createElement(qe,{account:e}))))})),a=l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement(Je,{buttonText:"Connect a new bank account",existingAccount:null})));return l.a.createElement(l.a.Fragment,null,l.a.createElement(Be,{mainHeaderText:"Bank Accounts",subHeaderText:"",colorClassName:"section-header-blue"}),l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"})),e.accountsLoading?l.a.createElement(l.a.Fragment,null):n,a)))})),Ye={setDaysRange:function(e,n){return function(a,t){var l=t().plaid.accounts,r={};r.spendRangeDays=n;var c={settingString:"spendRangeDays",settingData:r};e&&Ce(e),he.a.post("/api/users/new-user-setting",c).then((function(t){return a(Ae(e,l)),a({type:"SET_SPEND_RANGE_DAYS_SELECTED",payload:n}),t})).catch((function(e){var n=e;e.response&&(n=e.response.data),a({type:"GET_ERRORS",payload:n})}))}}},$e=Object(s.b)((function(e){return{auth:e.auth,spendRangeDays:e.auth.spendRangeDays}}),Ye)((function(e){var n=Object(d.b)(),a=n.user,t=n.getAccessTokenSilently,r=e.spendRangeDays,c=function(n){t().then((function(a){e.setDaysRange(a,n)}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Be,{mainHeaderText:"Profile",subHeaderText:"",colorClassName:"section-header-green"}),l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("img",{src:a.picture,alt:a.name}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},"Name: ",a.name)),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},"Email: ",a.email)),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},"You are using this date range: ",r," days")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},"Change your range:"," ",l.a.createElement("button",{disabled:30===r,onClick:function(){return c(30)}},"30 days"),l.a.createElement("button",{disabled:14===r,onClick:function(){return c(14)}},"14 days"),l.a.createElement("button",{disabled:7===r,onClick:function(){return c(7)}},"7 days"))))))})),en=a(38),nn=a(428),an={isAuthenticated:!0,user:{id:"123456789012345678901234",name:"Test Person",iat:null,exp:null},loading:!1,budgets:{Food:200,Debt:50,Transportation:20,Entertainment:10,Personal:100},expenseBudgetSum:380,spendRangeDays:30,perTransactionSettings:{}};var tn={},ln={accounts:[{_id:"5f49c1e2a80e4610fd0bf121",userId:"auth0|5f49a0239c5106006de188a7",itemId:"gV6ZBM1kanFa3LjGkG5JIvN54wjW8WuEBEkyQ",institutionId:"ins_6",institutionName:"US Bank",__v:0},{_id:"5f4b054ece06fa012ce5ef3b",userId:"auth0|5f49a0239c5106006de188a7",itemId:"r3rqnGXrwDCJzn4N8l87UgwZmoWvjlt7ev9eb",institutionId:"ins_13",institutionName:"PNC",__v:0}],transactions:[{accountName:"US Bank",transactions:[{account_id:"E4WEAVZvBmFKleBJnJDrs1DWAowWM6cX1QKG9",account_owner:null,amount:500,authorized_date:null,category:["Transportation","Airlines and Aviation Services"],category_id:"22001000",date:"2020-08-28",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"United Airlines",name:"United Airlines",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"eVDQrMZ1xAFyeRNnqnBmh4pyqkqgamtL9vxye",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Travel","Airlines and Aviation Services"],waiwai_categories:["Transportation","Airlines and Aviation Services"],isReviewed:!1,isDuplicate:!1},{account_id:"oVoNj1A9mqFozvpLwLqWI8m6xzr67auRz9lgR",account_owner:null,amount:6.33,authorized_date:null,category:["Transportation","Taxi"],category_id:"22016000",date:"2020-08-26",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Uber",name:"Uber 072515 SF**POOL**",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"3gxwanmdXjHmgK5GrGkQTwqXQ6Q1K5CqlgWGq",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Travel","Taxi"],waiwai_categories:["Transportation","Taxi"],isReviewed:!1,isDuplicate:!1},{account_id:"E4WEAVZvBmFKleBJnJDrs1DWAowWM6cX1QKG9",account_owner:null,amount:500,authorized_date:null,category:["Food","Restaurants"],category_id:"13005000",date:"2020-08-23",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Tectra Inc",name:"Tectra Inc",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"QoAgNpnmGxTdK4BgDgLpU58qDrDMnVtpmPjrA",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants"],waiwai_categories:["Food","Restaurants"],isReviewed:!1,isDuplicate:!1},{account_id:"E4WEAVZvBmFKleBJnJDrs1DWAowWM6cX1QKG9",account_owner:null,amount:2078.5,authorized_date:null,category:["Debt",""],category_id:"16000000",date:"2020-08-22",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"AUTOMATIC PAYMENT - THANK",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"1pB3x6nmMNudGy5l8lRAUQkbgvgJGxH5j9DbA",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Payment"],waiwai_categories:["Debt",""],isReviewed:!1,isDuplicate:!1},{account_id:"E4WEAVZvBmFKleBJnJDrs1DWAowWM6cX1QKG9",account_owner:null,amount:500,authorized_date:null,category:["Food","Restaurants"],category_id:"13005032",date:"2020-08-22",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"KFC",name:"KFC",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"MMVGxgkoNru6EvVkBkARi1dP8V8lRzI96Xmbj",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants","Fast Food"],waiwai_categories:["Food","Restaurants"],isReviewed:!1,isDuplicate:!1},{account_id:"E4WEAVZvBmFKleBJnJDrs1DWAowWM6cX1QKG9",account_owner:null,amount:500,authorized_date:null,category:["Personal","Sporting Goods"],category_id:"19046000",date:"2020-08-22",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Madison Bicycle Shop",name:"Madison Bicycle Shop",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"ZVADLE3eyQF18DlENEdqIBv4pPp7AaFgqaxnA",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Shops","Sporting Goods"],waiwai_categories:["Personal","Sporting Goods"],isReviewed:!1,isDuplicate:!1},{account_id:"gV6ZBM1kanFa3LjGkG5JIvNn75bnKDcgwDmzE",account_owner:null,amount:25,authorized_date:null,category:["Debt","Credit Card"],category_id:"16001000",date:"2020-08-13",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"CREDIT CARD 3333 PAYMENT *//",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"PpAX4kGoZ3uJ4K6eweD7I98A5K5kwZi76LKE8",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Payment","Credit Card"],waiwai_categories:["Debt","Credit Card"],isReviewed:!1,isDuplicate:!1},{account_id:"oVoNj1A9mqFozvpLwLqWI8m6xzr67auRz9lgR",account_owner:null,amount:5.4,authorized_date:null,category:["Transportation","Taxi"],category_id:"22016000",date:"2020-08-13",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Uber",name:"Uber 063015 SF**POOL**",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"xVmwoDz5W4Fjrabxvx4EFeN9WyW4jwin4MQm6",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Travel","Taxi"],waiwai_categories:["Transportation","Taxi"],isReviewed:!1,isDuplicate:!1},{account_id:"WGAgZXrzyjUGg4ZJEJowH7vGj8dGQ6ClDMmn4",account_owner:null,amount:5850,authorized_date:null,category:["Personal","Debit"],category_id:"21006000",date:"2020-08-12",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"ACH Electronic CreditGUSTO PAY 123456",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:"ACH",payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"pVmp7MG9RKFe7yobdbKaslRPL8LMz6tLolX9R",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Transfer","Debit"],waiwai_categories:["Personal","Debit"],isReviewed:!1,isDuplicate:!1},{account_id:"8GPV7JzqjMURp67ZeZKzc9PnVzen3QswGalMZ",account_owner:null,amount:1e3,authorized_date:null,category:["Income","Deposit"],category_id:"21007000",date:"2020-08-12",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"CD DEPOSIT .INITIAL.",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"7AN3jRrl5ZhZ3LK5B5krIJng848lpWugJbw43",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Transfer","Deposit"],waiwai_categories:["Income","Deposit"],isReviewed:!1,isDuplicate:!1},{account_id:"E4WEAVZvBmFKleBJnJDrs1DWAowWM6cX1QKG9",account_owner:null,amount:78.5,authorized_date:null,category:["Entertainment","Gyms and Fitness Centers"],category_id:"17018000",date:"2020-08-11",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Touchstone",name:"Touchstone Climbing",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"LZwy3p8oNKCDJWxZqZkoIGnwgZgQM1HPj63gZ",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Recreation","Gyms and Fitness Centers"],waiwai_categories:["Entertainment","Gyms and Fitness Centers"],isReviewed:!1,isDuplicate:!1},{account_id:"oVoNj1A9mqFozvpLwLqWI8m6xzr67auRz9lgR",account_owner:null,amount:-500,authorized_date:null,category:["Transportation","Airlines and Aviation Services"],category_id:"22001000",date:"2020-08-11",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"United Airlines",name:"United Airlines",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"dV9aKMQ83WF8AX4EwEzRFjv8wqwQeLfZEyXoB",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Travel","Airlines and Aviation Services"],waiwai_categories:["Transportation","Airlines and Aviation Services"],isReviewed:!1,isDuplicate:!1},{account_id:"oVoNj1A9mqFozvpLwLqWI8m6xzr67auRz9lgR",account_owner:null,amount:12,authorized_date:null,category:["Food","Restaurants"],category_id:"13005032",date:"2020-08-10",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:"3322",zip:null},merchant_name:"McDonald's",name:"McDonald's",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"aVGyA6j9rgFeXrxlJlq7sBpeJPJMEzF756Xp1",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants","Fast Food"],waiwai_categories:["Food","Restaurants"],isReviewed:!1,isDuplicate:!1},{account_id:"oVoNj1A9mqFozvpLwLqWI8m6xzr67auRz9lgR",account_owner:null,amount:4.33,authorized_date:null,category:["Food","Restaurants"],category_id:"13005043",date:"2020-08-10",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Starbucks",name:"Starbucks",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"48dj4nlGk7uxV31GQGRligAZWKW53eHdbpm83",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants","Coffee Shop"],waiwai_categories:["Food","Restaurants"],isReviewed:!1,isDuplicate:!1},{account_id:"oVoNj1A9mqFozvpLwLqWI8m6xzr67auRz9lgR",account_owner:null,amount:89.4,authorized_date:null,category:["Food","Restaurants"],category_id:"13005000",date:"2020-08-09",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Sparkfun",name:"SparkFun",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"N1ybd8WgjzSKQ19nanDqsqv85n5jx3UW68VLx",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants"],waiwai_categories:["Food","Restaurants"],isReviewed:!1,isDuplicate:!1},{account_id:"gV6ZBM1kanFa3LjGkG5JIvNn75bnKDcgwDmzE",account_owner:null,amount:-4.22,authorized_date:null,category:["Income","Credit"],category_id:"21005000",date:"2020-08-08",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"INTRST PYMNT",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"jV6XdLoPmyF5EaQdmd4XsV7lmNmrb9C1WKQoQ",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Transfer","Credit"],waiwai_categories:["Income","Credit"],isReviewed:!1,isDuplicate:!1}]},{accountName:"PNC",transactions:[{account_id:"llb7nGgbADhrPeQAMzM9C1k8DPRvmrCZVRK9q",account_owner:null,amount:500,authorized_date:null,category:["Transportation","Airlines and Aviation Services"],category_id:"22001000",date:"2020-08-28",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"United Airlines",name:"United Airlines",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"r3rqnGXrwDCJzn4N8l87UgwRpqJNNgHlnm4Wv",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Travel","Airlines and Aviation Services"],waiwai_categories:["Transportation","Airlines and Aviation Services"],isReviewed:!1,isDuplicate:!1},{account_id:"5rd7mBzd5bU9v35bBaBkIBP1Mv8oQmcZ18aBP",account_owner:null,amount:6.33,authorized_date:null,category:["Transportation","Taxi"],category_id:"22016000",date:"2020-08-26",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Uber",name:"Uber 072515 SF**POOL**",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"DMgoDLKgBqTALj3mo8oPHlawEBDAAlFvkdDla",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Travel","Taxi"],waiwai_categories:["Transportation","Taxi"],isReviewed:!1,isDuplicate:!1},{account_id:"llb7nGgbADhrPeQAMzM9C1k8DPRvmrCZVRK9q",account_owner:null,amount:500,authorized_date:null,category:["Food","Restaurants"],category_id:"13005000",date:"2020-08-23",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Tectra Inc",name:"Tectra Inc",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"z7NJXGBNzrtlPwvpBRBXTnVGLol33nfozjrZv",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants"],waiwai_categories:["Food","Restaurants"],isReviewed:!1,isDuplicate:!1},{account_id:"llb7nGgbADhrPeQAMzM9C1k8DPRvmrCZVRK9q",account_owner:null,amount:2078.5,authorized_date:null,category:["Debt",""],category_id:"16000000",date:"2020-08-22",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"AUTOMATIC PAYMENT - THANK",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"xPaxnGLaKqUW4Rlpb3bmsDy4NQWrrDfnqgjXz",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Payment"],waiwai_categories:["Debt",""],isReviewed:!1,isDuplicate:!1},{account_id:"llb7nGgbADhrPeQAMzM9C1k8DPRvmrCZVRK9q",account_owner:null,amount:500,authorized_date:null,category:["Food","Restaurants"],category_id:"13005032",date:"2020-08-22",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"KFC",name:"KFC",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"3q3PArV3JbUbkePJ5y58FE61qdQNNESqBX6vA",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants","Fast Food"],waiwai_categories:["Food","Restaurants"],isReviewed:!1,isDuplicate:!1},{account_id:"llb7nGgbADhrPeQAMzM9C1k8DPRvmrCZVRK9q",account_owner:null,amount:500,authorized_date:null,category:["Personal","Sporting Goods"],category_id:"19046000",date:"2020-08-22",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Madison Bicycle Shop",name:"Madison Bicycle Shop",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"BQpwbMNpkZf8PNJx9l94UM98mwLZZMiwQaERP",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Shops","Sporting Goods"],waiwai_categories:["Personal","Sporting Goods"],isReviewed:!1,isDuplicate:!1},{account_id:"J8nkDqdnVxTbozEe7V7MF37P6mGDLBTdDkl7E",account_owner:null,amount:25,authorized_date:null,category:["Debt","Credit Card"],category_id:"16001000",date:"2020-08-13",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"CREDIT CARD 3333 PAYMENT *//",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"llb7nGgbADhrPeQAMzM9C1k3PrmKK1hZkNQzo",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Payment","Credit Card"],waiwai_categories:["Debt","Credit Card"],isReviewed:!1,isDuplicate:!1},{account_id:"5rd7mBzd5bU9v35bBaBkIBP1Mv8oQmcZ18aBP",account_owner:null,amount:5.4,authorized_date:null,category:["Transportation","Taxi"],category_id:"22016000",date:"2020-08-13",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Uber",name:"Uber 063015 SF**POOL**",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"VxdpDjodqLhZWb7d3K3niMwmPb8ZZMiWwl15d",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Travel","Taxi"],waiwai_categories:["Transportation","Taxi"],isReviewed:!1,isDuplicate:!1},{account_id:"qBKlyG5KADUprV8agQgNcBlnGDrmpqcdzRebm",account_owner:null,amount:5850,authorized_date:null,category:["Personal","Debit"],category_id:"21006000",date:"2020-08-12",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"ACH Electronic CreditGUSTO PAY 123456",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:"ACH",payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"aM1kb8J17XTDq8Z3xyx5iWPMpbJwwWU7znwb4",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Transfer","Debit"],waiwai_categories:["Personal","Debit"],isReviewed:!1,isDuplicate:!1},{account_id:"kGnwW6XnADunN8wQVrVes4rN1WPeAbFWlo4P9",account_owner:null,amount:1e3,authorized_date:null,category:["Income","Deposit"],category_id:"21007000",date:"2020-08-12",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"CD DEPOSIT .INITIAL.",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"KEbRDKwbPdIwDleQrPr1hxrZLW5wwxfVLJq7x",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Transfer","Deposit"],waiwai_categories:["Income","Deposit"],isReviewed:!1,isDuplicate:!1},{account_id:"llb7nGgbADhrPeQAMzM9C1k8DPRvmrCZVRK9q",account_owner:null,amount:78.5,authorized_date:null,category:["Entertainment","Gyms and Fitness Centers"],category_id:"17018000",date:"2020-08-11",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Touchstone",name:"Touchstone Climbing",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"dpog6keoZXTPzJda4D4vSPqQvawJJPtZm9KdM",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Recreation","Gyms and Fitness Centers"],waiwai_categories:["Entertainment","Gyms and Fitness Centers"],isReviewed:!1,isDuplicate:!1},{account_id:"5rd7mBzd5bU9v35bBaBkIBP1Mv8oQmcZ18aBP",account_owner:null,amount:-500,authorized_date:null,category:["Transportation","Airlines and Aviation Services"],category_id:"22001000",date:"2020-08-11",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"United Airlines",name:"United Airlines",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"wNd3mGDdqlS3aKwEnWnQInG5M63rrnfr5Mwym",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Travel","Airlines and Aviation Services"],waiwai_categories:["Transportation","Airlines and Aviation Services"],isReviewed:!1,isDuplicate:!1},{account_id:"5rd7mBzd5bU9v35bBaBkIBP1Mv8oQmcZ18aBP",account_owner:null,amount:12,authorized_date:null,category:["Food","Restaurants"],category_id:"13005032",date:"2020-08-10",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:"3322",zip:null},merchant_name:"McDonald's",name:"McDonald's",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"5rd7mBzd5bU9v35bBaBkIBPkvmQllBuZWJl4Q",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants","Fast Food"],waiwai_categories:["Food","Restaurants"],isReviewed:!1,isDuplicate:!1},{account_id:"5rd7mBzd5bU9v35bBaBkIBP1Mv8oQmcZ18aBP",account_owner:null,amount:4.33,authorized_date:null,category:["Food","Restaurants"],category_id:"13005043",date:"2020-08-10",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Starbucks",name:"Starbucks",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"J8nkDqdnVxTbozEe7V7MF374mBLbb3sd9x3KX",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants","Coffee Shop"],waiwai_categories:["Food","Restaurants"],isReviewed:!1,isDuplicate:!1},{account_id:"5rd7mBzd5bU9v35bBaBkIBP1Mv8oQmcZ18aBP",account_owner:null,amount:89.4,authorized_date:null,category:["Food","Restaurants"],category_id:"13005000",date:"2020-08-09",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Sparkfun",name:"SparkFun",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"kGnwW6XnADunN8wQVrVes4r5WbAoo4FWXanGD",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants"],waiwai_categories:["Food","Restaurants"],isReviewed:!1,isDuplicate:!1},{account_id:"J8nkDqdnVxTbozEe7V7MF37P6mGDLBTdDkl7E",account_owner:null,amount:-4.22,authorized_date:null,category:["Income","Credit"],category_id:"21005000",date:"2020-08-08",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"INTRST PYMNT",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"qBKlyG5KADUprV8agQgNcBlKDqpwwBudZxGvK",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Transfer","Credit"],waiwai_categories:["Income","Credit"],isReviewed:!1,isDuplicate:!1}]}],accountsLoading:!1,transactionsLoading:!1,userFirstVisit:!1,incomeSum:1008.44,paycheckSum:0,otherIncomeSum:1008.44,spendingSum:22298.920000000002,totalTransactionCount:32,reviewedTransactionCount:0,categoriesThisSpendRange:[{x:1,name:"Housing"},{x:2,name:"Transportation"},{x:3,name:"Food"},{x:4,name:"Utilities"},{x:5,name:"Insurance & Healthcare"},{x:6,name:"Debt"},{x:7,name:"Personal"},{x:8,name:"Education"},{x:9,name:"Child Care"},{x:10,name:"Entertainment"},{x:11,name:"Savings"},{x:12,name:"Income"}],spendingByCategory:{Housing:0,Transportation:1023.46,Food:2211.46,Utilities:0,"Insurance & Healthcare":0,Debt:4207,Personal:12700,Education:0,"Child Care":0,Entertainment:157,Savings:0,Income:2e3},sortedCategoriesUnderBudget:["Housing","Utilities","Insurance & Healthcare","Education","Child Care"],sortedCategoriesOverBudget:["Transportation","Food","Debt","Entertainment","Personal","Savings","Income"]};var rn=Object(en.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_CURRENT_USER":return Object(ye.a)(Object(ye.a)({},e),{},{isAuthenticated:!nn(n.payload),user:n.payload});case"USER_LOADING":return Object(ye.a)(Object(ye.a)({},e),{},{loading:!0});case"SET_BUDGETS":return Object(ye.a)(Object(ye.a)({},e),{},{budgets:n.payload.allBudgets,expenseBudgetSum:n.payload.expenseBudgetSum});case"GET_USER_INFO":return Object(ye.a)(Object(ye.a)({},e),n.payload);case"SET_SPEND_RANGE_DAYS_SELECTED":return Object(ye.a)(Object(ye.a)({},e),{},{spendRangeDays:n.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"GET_ERRORS":return n.payload;default:return e}},plaid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ACCOUNTS_LOADING":return Object(ye.a)(Object(ye.a)({},e),{},{accountsLoading:!0});case"ADD_ACCOUNT":return Object(ye.a)(Object(ye.a)({},e),{},{accounts:[].concat(Object(be.a)(e.accounts),[n.payload]),accountsLoading:!1,userFirstVisit:!1});case"REFRESH_ACCOUNT":return Object(ye.a)(Object(ye.a)({},e),{},{accounts:e.accounts.map((function(e){return e.institutionId!==n.payload?e:Object(ye.a)(Object(ye.a)({},e),{},{toRefresh:!1})}))});case"UPDATE_ACCOUNT":return Object(ye.a)(Object(ye.a)({},e),{},{accounts:e.accounts.map((function(e){return e._id!==n.payload._id?e:Object(ye.a)({},n.payload)}))});case"DELETE_ACCOUNT":return Object(ye.a)(Object(ye.a)({},e),{},{accounts:e.accounts.filter((function(e){return e._id!==n.payload}))});case"GET_ACCOUNTS":return Object(ye.a)(Object(ye.a)({},e),{},{accounts:n.payload,accountsLoading:!1});case"TRANSACTIONS_LOADING":return Object(ye.a)(Object(ye.a)({},e),{},{transactionsLoading:!0});case"GET_TRANSACTIONS":return Object(ye.a)(Object(ye.a)({},e),{},{transactions:n.payload,transactionsLoading:!1});case"SET_TRANSACTION_DATA":return Object(ye.a)(Object(ye.a)({},e),n.payload);case"USER_FIRST_VISIT":return Object(ye.a)(Object(ye.a)({},e),{},{userFirstVisit:!0});default:return e}}}),cn={getTransactions:Ae},on=Object(s.b)((function(e){return{accounts:e.plaid.accounts,transactions:e.plaid.transactions}}),cn)((function(e){var n=Object(d.b)().getAccessTokenSilently,a=e.accounts,r=e.getTransactions,c=e.transactions;return Object(t.useEffect)((function(){c&&0===c.length&&n().then((function(e){r(e,a)}))}),[a,n,r,c]),l.a.createElement(l.a.Fragment,null)})),sn={getAccounts:function(e){return function(n){e&&De(e),n(Te()),he.a.get("/api/plaid/accounts").then((function(e){return n({type:"GET_ACCOUNTS",payload:e.data})})).catch((function(e){400===e.response.status&&console.log("Error 400 indicates user hasn't added any accounts yet"),n({type:"USER_FIRST_VISIT",payload:null})}))}},getUserInfo:function(e){return function(n){e&&Ce(e),he.a.get("/api/users/user-info").then((function(e){var a=e.data,t=a.budgets,l=a.expenseBudgetSum,r=a.spendRangeDays,c=a.perTransactionSettings;n({type:"GET_USER_INFO",payload:{budgets:t,expenseBudgetSum:l,spendRangeDays:r,perTransactionSettings:c}})})).catch((function(e){400===e.response.status&&console.log("Error 400 indicates user hasn't added any settings yet");var a=e;e.response&&(a=e.response.data),n({type:"GET_ERRORS",payload:a})}))}}},un=(Object(s.b)((function(e){return{accounts:e.plaid.accounts,accountsLoading:e.plaid.accountsLoading}}),sn)((function(e){var n=Object(d.b)().getAccessTokenSilently,a=e.accounts,r=e.getAccounts,c=e.accountsLoading,o=e.getUserInfo;return Object(t.useEffect)((function(){a&&0===a.length&&n().then((function(e){o(e),r(e,a)}))}),[a,n,r,o]),c?l.a.createElement(l.a.Fragment,null):l.a.createElement(on,null)})),Object(u.a)({reducer:rn})),dn=function(){var e=Object(d.b)(),n=e.isAuthenticated,a=e.isLoading,t=Object({NODE_ENV:"production",PUBLIC_URL:"/mern-plaid",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_NAME:"WaiWai localhost",REACT_APP_PLAID_PUBLIC_KEY:"b506a1d13e2c7e9d3a5f835103897e",REACT_APP_AUTH0_DOMAIN:"waiwai.us.auth0.com",REACT_APP_AUTH0_CLIENT_ID:"KMLjF0AfyoJceimmTTDOXhVi60C65kjH",REACT_APP_LIVEDATA:"false",REACT_APP_PLAID_ENV_STRING:"sandbox",REACT_APP_AUTH0_AUDIENCE:"https://waiwai/auth"}).REACT_APP_ACCESSCHECK?Object({NODE_ENV:"production",PUBLIC_URL:"/mern-plaid",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_NAME:"WaiWai localhost",REACT_APP_PLAID_PUBLIC_KEY:"b506a1d13e2c7e9d3a5f835103897e",REACT_APP_AUTH0_DOMAIN:"waiwai.us.auth0.com",REACT_APP_AUTH0_CLIENT_ID:"KMLjF0AfyoJceimmTTDOXhVi60C65kjH",REACT_APP_LIVEDATA:"false",REACT_APP_PLAID_ENV_STRING:"sandbox",REACT_APP_AUTH0_AUDIENCE:"https://waiwai/auth"}).REACT_APP_ACCESSCHECK:"";return a?l.a.createElement(_,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(T,null),l.a.createElement(l.a.Fragment,null),l.a.createElement(o.g,null,l.a.createElement(o.d,{exact:!0,path:"/mern-plaid/"},n?l.a.createElement(o.c,{to:"/spend-story"}):l.a.createElement(O,{accessCheck:t})),l.a.createElement(y,{path:"/spend-story",component:_e}),l.a.createElement(y,{path:"/spend-plan",component:Fe}),l.a.createElement(y,{path:"/manage-transactions",component:Ve}),l.a.createElement(y,{path:"/user-profile",component:$e}),l.a.createElement(y,{path:"/bank-accounts",component:Xe})),l.a.createElement(A,null))};var mn=function(){return l.a.createElement(s.a,{store:un},l.a.createElement(i.BrowserRouter,null,l.a.createElement(m,null,l.a.createElement(dn,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(mn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[372,1,2]]]);
//# sourceMappingURL=main.d3cc6fb7.chunk.js.map