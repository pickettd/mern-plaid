(this["webpackJsonpmlp-client"]=this["webpackJsonpmlp-client"]||[]).push([[0],{326:function(e,n,a){e.exports=a.p+"static/media/waiwai-logo.e57023e1.svg"},335:function(e,n,a){e.exports=a.p+"static/media/childcare.3217e63b.svg"},336:function(e,n,a){e.exports=a.p+"static/media/debt.72b94b4b.svg"},337:function(e,n,a){e.exports=a.p+"static/media/dollar-sign.69e96d44.svg"},338:function(e,n,a){e.exports=a.p+"static/media/education.28dcaf58.svg"},339:function(e,n,a){e.exports=a.p+"static/media/entertainment.f805bade.svg"},340:function(e,n,a){e.exports=a.p+"static/media/food-background.b4828793.svg"},341:function(e,n,a){e.exports=a.p+"static/media/housing.aa8416a1.svg"},342:function(e,n,a){e.exports=a.p+"static/media/insurance.ccb70d55.svg"},343:function(e,n,a){e.exports=a.p+"static/media/miscellaneous.41d25eac.svg"},344:function(e,n,a){e.exports=a.p+"static/media/personal.56aa4ee5.svg"},345:function(e,n,a){e.exports=a.p+"static/media/savings.0d8cb36a.svg"},346:function(e,n,a){e.exports=a.p+"static/media/transportation.7ab81113.svg"},347:function(e,n,a){e.exports=a.p+"static/media/utilities.73512e34.svg"},372:function(e,n,a){e.exports=a(430)},377:function(e,n,a){},385:function(e,n,a){},430:function(e,n,a){"use strict";a.r(n);var t=a(0),l=a.n(t),r=a(49),c=a.n(r),o=(a(377),a(26)),i=a(43),u=a(22),s=a(357),d=a(21),m=function(e){var n=e.children,a=Object(o.k)();return l.a.createElement(d.a,{domain:"waiwai.us.auth0.com",clientId:"KMLjF0AfyoJceimmTTDOXhVi60C65kjH",redirectUri:window.location.origin+"/mern-plaid",onRedirectCallback:function(e){a.push((null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)},audience:"https://waiwai/auth"},n)},p=a(360),_=function(){return l.a.createElement("div",{className:"spinner"},l.a.createElement("img",{src:"https://cdn.auth0.com/blog/auth0-react-sample/assets/loading.svg",alt:"Loading"}))},y=function(e){var n=e.component,a=Object(p.a)(e,["component"]);return l.a.createElement(o.d,Object.assign({component:Object(d.d)(n,{onRedirecting:function(){return l.a.createElement(_,null)}})},a))},g=(a(385),a(67)),b=a(95),E=a(130),f=a(129),h=a(71),v=a(326),N=a.n(v),w=a(327),S=function(){var e=Object(d.b)().logout;return l.a.createElement(w.a,{onClick:function(){return e({returnTo:window.location.origin+"/mern-plaid"})},variant:"danger",className:"btn-margin"},"Log Out")},A=Object(u.b)((function(e){return{userName:e.auth.user.name}}),{})((function(e){var n=Object(d.b)(),a=n.isAuthenticated,t=n.user.name;return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{expand:"lg"},l.a.createElement(g.LinkContainer,{to:"/spend-story"},l.a.createElement(b.a,null,l.a.createElement(f.a.Brand,{href:"#"},l.a.createElement("img",{alt:"Waiwai Logo",src:N.a,width:"30",height:"30",className:"d-inline-block align-top"}),"Waiwai"))),l.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(E.a,null,a?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"mr-auto navbar-nav"},l.a.createElement(h.a,{renderMenuOnMount:!0,title:"spend",id:"hover-nav-dropdown",className:"dropdown-menu-left"},l.a.createElement(g.LinkContainer,{to:"/spend-story"},l.a.createElement(h.a.Item,null,"spend story")),l.a.createElement(g.LinkContainer,{to:"/manage-transactions"},l.a.createElement(h.a.Item,null,"view transactions")),l.a.createElement(g.LinkContainer,{to:"/spend-plan"},l.a.createElement(h.a.Item,null,"manage spend plan"))),l.a.createElement(g.LinkContainer,{to:"/save-story"},l.a.createElement(E.a.Link,{href:"#"},"save")),l.a.createElement(g.LinkContainer,{to:"/borrow-story"},l.a.createElement(E.a.Link,{href:"#"},"borrow")),l.a.createElement(g.LinkContainer,{to:"/plan-story"},l.a.createElement(E.a.Link,{href:"#"},"plan"))),l.a.createElement(h.a,{title:t,id:"basic-nav-dropdown",className:"ml-auto dropdown-menu-right"},l.a.createElement(g.LinkContainer,{to:"/user-profile"},l.a.createElement(h.a.Item,{href:"#"},"Profile")),l.a.createElement(g.LinkContainer,{to:"/bank-accounts"},l.a.createElement(h.a.Item,{href:"#"},"Bank Accounts")),l.a.createElement(h.a.Item,{className:"notButton",href:"#"},l.a.createElement(S,null)))):l.a.createElement(l.a.Fragment,null)))))})),T=function(){return l.a.createElement("footer",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"mr-auto footer-nav"},l.a.createElement(i.Link,{to:"/spend-story"},"spend"),l.a.createElement(i.Link,{to:"/save-story"},"save"),l.a.createElement(i.Link,{to:"/borrow-story"},"borrow"),l.a.createElement(i.Link,{to:"/plan-story"},"plan"))),l.a.createElement("div",{className:"row"},l.a.createElement("p",{className:"col-sm"},l.a.createElement("small",null,"\xa9",(new Date).getFullYear()," WAIWAI | Ua kukulu \u02bbia i Hawai\u02bbi me ke aloha nui")))))},D=function(){var e=Object(d.b)().loginWithRedirect;return l.a.createElement(w.a,{onClick:function(){return e()},variant:"primary",className:"btn-margin"},"Log In")},C=function(){var e=Object(d.b)().loginWithRedirect;return l.a.createElement(w.a,{onClick:function(){return e({screen_hint:"signup"})},variant:"primary",className:"btn-margin"},"Sign Up")},R=function(e){return l.a.createElement("div",{className:"full-page mountain-background"},l.a.createElement("div",{className:"login-box  p-5"},l.a.createElement("h1",null,"M\u0101lama Wai. Ho'oulu Waiwai"),l.a.createElement("p",null,"Manage your financial resources. Grow waiwai."),l.a.createElement("div",{className:"button-box"},l.a.createElement(D,null),l.a.createElement("br",null),l.a.createElement(C,null))))},x=a(333),O=a(334),k=a(361),j=a(356),F=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}),L=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),B=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0}),U=Object(u.b)((function(e){return{spendRangeDaysSelected:e.plaid.spendRangeDaysSelected}}),{})((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"section-space"}),l.a.createElement("div",{className:"section section-header-generic"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 col-sm-6 offset-sm-3 justify-content-center text-center"},l.a.createElement("h1",null,e.mainHeaderText,l.a.createElement("br",null),l.a.createElement("span",{className:"small bottom"},e.subHeaderText)))))))})),G=a(335),M=a.n(G),z=a(336),I=a.n(z),P=a(337),W=a.n(P),K=a(338),V=a.n(K),Z=a(339),q=a.n(Z),J=a(340),Q=a.n(J),H=a(341),X=a.n(H),Y=a(342),$=a.n(Y),ee=a(343),ne=a.n(ee),ae=a(344),te=a.n(ae),le=a(345),re=a.n(le),ce=a(346),oe=a.n(ce),ie=a(347),ue=a.n(ie),se=Object(u.b)((function(e){return{budgets:e.auth.budgets,categoryMap:e.auth.categoryMap,spendingByCategory:e.plaid.spendingByCategory}}),{})((function(e){var n=0,a=0,t="",r="",c="",o=ne.a;e.budgetAmount&&(n=e.budgetAmount),e.spentAmount&&(a=e.spentAmount),"Income"===e.categoryName&&(o=W.a),"Housing"===e.categoryName&&(o=X.a),"Transportation"===e.categoryName&&(o=oe.a),"Food"===e.categoryName&&(o=Q.a),"Utilities"===e.categoryName&&(o=ue.a),"Insurance & Healthcare"===e.categoryName&&(o=$.a),"Debt"===e.categoryName&&(o=I.a),"Personal"===e.categoryName&&(o=te.a),"Education"===e.categoryName&&(o=V.a),"Child Care"===e.categoryName&&(o=M.a),"Savings"===e.categoryName&&(o=re.a),"Entertainment"===e.categoryName&&(o=q.a),e.underBudget?(c="dark-green-background",t=L.format(n-a),r=0!==n?B.format(a/n):0===a?B.format(0):"--"):(c="brown-yellow-background",r=L.format(a),t=0!==n?B.format(a/n):0===a?B.format(0):"--");var i=L.format(n);return l.a.createElement("div",{className:"card card-blog"},l.a.createElement("div",{className:"card-image "+c},l.a.createElement("img",{className:"img ",alt:"Category Name",src:o}),l.a.createElement("div",{className:"card-img-overlay"},l.a.createElement("h5",null,e.categoryName))),l.a.createElement("div",{className:"card-body text-center"},l.a.createElement("h4",{className:"card-title text-left"},t,l.a.createElement("span",{className:"small bottom"},l.a.createElement("br",null),e.underBudget?"Available":"Spent")),l.a.createElement("div",{className:"card-description"},"graph"),l.a.createElement("div",{className:"card-footer"},l.a.createElement("div",{className:"row mt-3"},l.a.createElement("div",{className:"col"},l.a.createElement("p",{className:" text-left"},i,l.a.createElement("span",{className:"small bottom"},l.a.createElement("br",null),"Budget"))),l.a.createElement("div",{className:"col"},l.a.createElement("p",{className:" text-left"},r,l.a.createElement("span",{className:"small bottom"},l.a.createElement("br",null),"Spent")))))))})),de=function(e){Object(k.a)(a,e);var n=Object(j.a)(a);function a(){return Object(x.a)(this,a),n.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props.auth0.user.name,n=this.props,a=n.plaid,t=n.auth;return a.userFirstVisit?l.a.createElement("div",null,l.a.createElement(o.c,{to:"/bank-accounts"})):a.accounts&&0!==a.accounts.length?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(U,{mainHeaderText:e,subHeaderText:"Spend Story"}),l.a.createElement("div",{className:"section income-spend"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("div",{className:"container text-md-left"},l.a.createElement("h1",{className:"large-number"},l.a.createElement("span",{className:"small top"},"Income"),l.a.createElement("br",null),L.format(a.incomeSum)),l.a.createElement("h3",null,l.a.createElement("span",{className:"small top"},"Paycheck"),l.a.createElement("br",null),L.format(a.paycheckSum)),l.a.createElement("h3",null,l.a.createElement("span",{className:"small top"},"Other Source"),l.a.createElement("br",null),L.format(a.otherIncomeSum)))),l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("div",{className:"container text-md-right"},l.a.createElement("h1",{className:"large-number"},l.a.createElement("span",{className:"small top"},"Spent"),l.a.createElement("br",null),L.format(a.spendingSum)),l.a.createElement("h3",null,l.a.createElement("span",{className:"small top"},"Transactions"),l.a.createElement("br",null),a.totalTransactionCount),l.a.createElement("h3",null,l.a.createElement("span",{className:"small top"},"Transactions reviewed"),l.a.createElement("br",null),B.format(a.reviewedTransactionCount/a.totalTransactionCount))))),l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-sm-4 text-center"},l.a.createElement(i.Link,{to:"/manage-transactions",className:"btn mt-4"},"view transactions"))))),l.a.createElement("div",{className:"section section-spending-plan"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("h1",{className:"darktext"},"Spending Plan",l.a.createElement("br",null),l.a.createElement("span",{className:"small bottom"},"Breakdown"))),l.a.createElement("div",{className:"row mt-5 mb-3"},l.a.createElement("h3",{className:"large-number"},L.format(a.incomeSum-t.expenseBudgetSum),l.a.createElement("br",null),l.a.createElement("span",{className:"small bottom"},"budget available"))),l.a.createElement("div",{className:"row"},l.a.createElement(i.Link,{to:"/spend-plan",className:"btn"},"manage spend plan"))))))),l.a.createElement("div",{className:"section section-spend-categories"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h1",null,"Spend Plan")),l.a.createElement("div",{className:"col-md-6 text-md-right"},l.a.createElement("h3",{className:"large-number"},L.format(t.expenseBudgetSum),l.a.createElement("br",null),l.a.createElement("span",{className:"small bottom"},"total budget")))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-8 pt-4 pb-4"},l.a.createElement("h4",null,"On track",l.a.createElement("br",null),l.a.createElement("span",{className:"small bottom"},a.sortedCategoriesUnderBudget.length,1===a.sortedCategoriesUnderBudget.length?" category":" catiegories")))),l.a.createElement("div",{className:"row"},a.sortedCategoriesUnderBudget.map((function(e,n){return l.a.createElement("div",{key:n,className:"col-lg-3 col-md-4 col-sm-6"},l.a.createElement(se,{categoryName:e,underBudget:!0,budgetAmount:t.budgets[e],spentAmount:a.spendingByCategory[e]}))}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-8 pt-4 pb-4"},l.a.createElement("h4",null,"Needs Work",l.a.createElement("br",null),l.a.createElement("span",{className:"small bottom"},a.sortedCategoriesOverBudget.length,1===a.sortedCategoriesOverBudget.length?" category":" catiegories")))),l.a.createElement("div",{className:"row"},a.sortedCategoriesOverBudget.map((function(e,n){return l.a.createElement("div",{key:e,className:"col-lg-3 col-md-4 col-sm-6"},l.a.createElement(se,{categoryName:e,underBudget:!1,budgetAmount:t.budgets[e],spentAmount:a.spendingByCategory[e]}))}))))),l.a.createElement("div",{className:"section section-spend-plan-footer"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row mt-5"},l.a.createElement("div",{className:"col-md-6 offset-md-1"},l.a.createElement("h2",{className:"large-number"},l.a.createElement("span",{className:"small top"},"Surplus"),l.a.createElement("br",null),L.format(a.incomeSum-a.spendingSum)))))))):l.a.createElement("div",null,l.a.createElement(U,{mainHeaderText:e,subHeaderText:"Spend Story"}),l.a.createElement(_,null))}}]),a}(t.Component),me=Object(u.b)((function(e){return{plaid:e.plaid,auth:e.auth}}),{})(Object(d.c)(de)),pe=a(220),_e=a(358),ye=a(13),ge=a(33),be=a.n(ge),Ee=(a(348),a(128)),fe=[{x:1,name:"Housing"},{x:2,name:"Transportation"},{x:3,name:"Food"},{x:4,name:"Utilities"},{x:5,name:"Insurance & Healthcare"},{x:6,name:"Debt"},{x:7,name:"Personal"},{x:8,name:"Education"},{x:9,name:"Child Care"},{x:10,name:"Entertainment"},{x:11,name:"Savings"},{x:12,name:"Income"}],he={Housing:0,Transportation:0,Food:0,Utilities:0,"Insurance & Healthcare":0,Debt:0,Personal:0,Education:0,"Child Care":0,Entertainment:0,Savings:0,Income:0},ve=function(e,n,a){var t=[],l=[],r=Object(Ee.a)(e);return r.sort((function(e,t){return n[e.name]/a[e.name]-n[t.name]/a[t.name]})),r.forEach((function(e){n[e.name]/a[e.name]<=1?t.push(e.name):l.push(e.name)})),{underBudgets:t,overBudgets:l}},Ne=function(e){be.a.defaults.headers.common.Authorization="Bearer ".concat(e)},we=function(e){return{type:"SET_BUDGETS",payload:e}},Se={saveUserBudget:function(e,n){return function(a,t){var l=t();e&&Ne(e);var r=l.plaid,c=r.categoriesThisSpendRange,o=r.spendingByCategory,i=l.auth.expenseBudgetSum,u=0;l.auth.budgets[n.name]&&(u=l.auth.budgets[n.name]);var s=n.payload[n.name],d=Object(ye.a)(Object(ye.a)({},l.auth.budgets),n.payload),m=i-u+s;a(we({allBudgets:d,expenseBudgetSum:m}));var p=ve(c,o,d),_={sortedCategoriesOverBudget:p.overBudgets,sortedCategoriesUnderBudget:p.underBudgets};a({type:"SET_TRANSACTION_DATA",payload:_}),be.a.post("/api/users/budgets",{budgetName:n.name,budgetAmount:s,expenseBudgetSum:m}).then((function(e){})).catch((function(e){var n=e;e.response&&(n=e.response.data),a({type:"GET_ERRORS",payload:n})}))}}},Ae=Object(u.b)((function(e){return{budgets:e.auth.budgets,categoryMap:e.auth.categoryMap,spendingByCategory:e.plaid.spendingByCategory}}),Se)((function(e){var n=Object(d.b)().getAccessTokenSilently,a=Object(t.useState)(""),r=Object(_e.a)(a,2),c=r[0],o=r[1],i=e.category,u=e.budgets,s=e.saveUserBudget;return Object(t.useEffect)((function(){u&&i&&u[i.name]&&o(u[i.name])}),[u,i,o]),l.a.createElement("tr",null,l.a.createElement("td",null,e.category.name),l.a.createElement("td",null),l.a.createElement("td",null,l.a.createElement("input",{value:c,onChange:function(e){var n=e.target.value;"$"===n.charAt(0)&&(n=n.substring(1)),o(n)}}),l.a.createElement("button",{className:"btn secondary",onClick:function(){return function(){var e={name:i.name,payload:{}},a=!1;c.trim&&(a=!isNaN(c.trim())),a&&(e.payload[i.name]=parseFloat(c),n().then((function(n){s(n,e)})))}()}},"Save")),l.a.createElement("td",null,F.format(e.spendingByCategory[e.category.name])))})),Te=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"section-space"}),l.a.createElement("div",{className:"section "+e.colorClassName},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 col-sm-6 offset-sm-3 justify-content-center text-center"},l.a.createElement("h1",null,e.mainHeaderText,l.a.createElement("br",null),l.a.createElement("span",{className:"small bottom"},e.subHeaderText)))))))},De=Object(u.b)((function(e){return{incomeSum:e.plaid.incomeSum,paycheckSum:e.plaid.paycheckSum,otherIncomeSum:e.plaid.otherIncomeSum,categoriesThisSpendRange:e.plaid.categoriesThisSpendRange,spendRangeDaysSelected:e.plaid.spendRangeDaysSelected,accountsLoading:e.plaid.accountsLoading,transactionsLoading:e.plaid.transactionsLoading}}),{})((function(e){return e.accountsLoading||e.transactionsLoading?l.a.createElement(_,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(Te,{mainHeaderText:"Spend",subHeaderText:"Plan",colorClassName:"section-header-blue"}),l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h2",null,"Income"),l.a.createElement(pe.a,{hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Waiwai category"),l.a.createElement("th",null),l.a.createElement("th",null,"Budget for ",e.spendRangeDaysSelected," days"),l.a.createElement("th",null,"Earned last ",e.spendRangeDaysSelected," days"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Income Total"),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null,F.format(e.incomeSum))),l.a.createElement("tr",null,l.a.createElement("td",null,"Paycheck Total"),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null,F.format(e.paycheckSum))),l.a.createElement("tr",null,l.a.createElement("td",null,"Other Income Total"),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null,F.format(e.otherIncomeSum))))),l.a.createElement("div",{className:"mt-5"},l.a.createElement("h3",null,"Add Income Sources")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("label",{htmlFor:"pay-frequency"},"Paycheck Frequency"),l.a.createElement("br",null),l.a.createElement("select",{className:"selectpicker form-control custom-select","data-style":"btn btn-default",defaultValue:"0"},l.a.createElement("option",{disabled:!0,value:"0"}," ","Choose date range"),l.a.createElement("option",{value:"1"},"Weekly"),l.a.createElement("option",{value:"1"},"Bi-weekly"),l.a.createElement("option",{value:"1"},"Bi-monthly"),l.a.createElement("option",{value:"1"},"Monthly")),l.a.createElement("br",null),l.a.createElement("label",{className:"mt-4"},"Paycheck amount"),l.a.createElement("br",null),l.a.createElement("input",{className:"form-control"})),l.a.createElement("div",{className:"col"},l.a.createElement("label",{htmlFor:"other-frequency"},"Other Income Frequency"),l.a.createElement("br",null),l.a.createElement("select",{className:"selectpicker form-control custom-select","data-style":"btn btn-default",defaultValue:"0"},l.a.createElement("option",{disabled:!0,value:"0"}," ","Choose date range"),l.a.createElement("option",{value:"1"},"Weekly"),l.a.createElement("option",{value:"1"},"Bi-weekly"),l.a.createElement("option",{value:"1"},"Bi-monthly"),l.a.createElement("option",{value:"1"},"Monthly")),l.a.createElement("br",null),l.a.createElement("label",{className:"mt-4"},"Other Income Amount"),l.a.createElement("br",null),l.a.createElement("input",{className:"form-control"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("button",{className:"btn secondary mt-4"},"Save"))))))),l.a.createElement("div",{className:"section table-section"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h2",null,"Expenses"),l.a.createElement(pe.a,{hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Waiwai category"),l.a.createElement("th",null),l.a.createElement("th",null,"Budget for ",e.spendRangeDaysSelected," days"),l.a.createElement("th",null,"Spent last ",e.spendRangeDaysSelected," days"))),l.a.createElement("tbody",null,e.categoriesThisSpendRange.map((function(e,n){return l.a.createElement(Ae,{key:e.name,category:e})})))))))))})),Ce=a(353),Re=a(52),xe=a(349),Oe=a.n(xe),ke=Object(u.b)((function(e){return{transactions:e.plaid.transactions,accounts:e.plaid.accounts,accountsLoading:e.plaid.accountsLoading,transactionsLoading:e.plaid.transactionsLoading}}),{})((function(e){if(e.accountsLoading||e.transactionsLoading)return l.a.createElement(_,null);var n=[{label:"Date",name:"date"},{label:"Account",name:"account"},{label:"Name",name:"name"},{label:"Amount",name:"amount"},{label:"Category",name:"category"},{label:"Update",name:"update",options:{filter:!1,customBodyRenderLite:function(e){return l.a.createElement(Ce.a,{id:"category-dropdown",title:"Change Category"},fe.map((function(e){return l.a.createElement(Re.a.Item,{key:e.x,href:"#"},"Income"===e.name?"Income - Other":e.name)})),l.a.createElement(Re.a.Item,{href:"#"},"Income - Paycheck"))}}},{label:"Reviewed?",name:"reviewed",options:{filter:!1,customBodyRenderLite:function(e){return l.a.createElement("button",{className:"btn secondary"},"\u2713")}}}],a=[];return e.transactions&&e.transactions.forEach((function(e){e.transactions.forEach((function(n){a.push({account:e.accountName,date:n.date,category:n.category[0],name:n.name,amount:F.format(n.amount)})}))})),l.a.createElement(l.a.Fragment,null,l.a.createElement(Te,{mainHeaderText:"Transaction",subHeaderText:"History",colorClassName:"section-header-green"}),l.a.createElement("div",{className:"section table-section"},l.a.createElement("div",{className:"container"},l.a.createElement(Oe.a,{title:"Manage Transactions",data:a,columns:n,options:{filterType:"checkbox",selectableRows:"none",sortOrder:{name:"date",direction:"desc"}}}))))})),je=a(354),Fe=function(e){be.a.defaults.headers.common.Authorization="Bearer ".concat(e)},Le=function(){return{type:"ACCOUNTS_LOADING"}},Be=function(e,n){return function(a,t){e&&Fe(e),n&&0!==n.length&&(a(Ue()),be.a.post("/api/plaid/accounts/transactions",n).then((function(e){if(e.data.transactions){var n=t();a((l=e.data.transactions,r=n.auth.budgets,function(e){var n={},a=0,t=0,c=0,o=0,i=0,u=0,s=Object(ye.a)({},he),d=Object(Ee.a)(fe),m=1;if(l&&l.length){l.forEach((function(e){e.transactions.forEach((function(e){var n=e.category[0],l=e.waiwai_categories[0],r=e.plaid_categories[0];e.amount*=-1,a++,e.reviewed&&t++,e.amount<0?(u+=-1*e.amount,void 0!==s[n]?s[n]+=-1*e.amount:(d.push({x:m,waiwaiName:l,plaidName:r,name:n}),m++,s[n]=-1*e.amount)):(i+=e.amount,"Paycheck"===e.category[1]?c+=e.amount:o+=e.amount)}))}));var p=ve(d,s,r);n.incomeSum=i,n.spendingSum=u,n.totalTransactionCount=a,n.categoriesThisSpendRange=d,n.spendingByCategory=s,n.sortedCategoriesOverBudget=p.overBudgets,n.sortedCategoriesUnderBudget=p.underBudgets,n.paycheckSum=c,n.otherIncomeSum=o,n.reviewedTransactionCount=t}e({type:"SET_TRANSACTION_DATA",payload:n})})),a({type:"GET_TRANSACTIONS",payload:e.data.transactions})}var l,r;e.data.needUpdate&&e.data.needUpdate.length&&e.data.needUpdate.forEach((function(e){a({type:"UPDATE_ACCOUNT",payload:e})}))})).catch((function(e){console.log(e),a({type:"GET_TRANSACTIONS",payload:null})})))}},Ue=function(){return{type:"TRANSACTIONS_LOADING"}},Ge=Object(u.b)((function(e){return{accounts:e.plaid.accounts,accountsLoading:e.plaid.accountsLoading}}),{deleteAccount:function(e,n){return function(a,t){var l=t().plaid.accounts;if(e&&Fe(e),window.confirm("Are you sure you want to remove this account?")){var r=n.id,c=l.filter((function(e){return e._id!==r}));be.a.delete("/api/plaid/accounts/".concat(r)).then((function(e){return a({type:"DELETE_ACCOUNT",payload:r})})).then(c?a(Be(e,c)):null).catch((function(e){return console.log(e)}))}}}})((function(e){var n=e.account,a=e.deleteAccount,r=n._id,c=Object(d.b)().getAccessTokenSilently,o=Object(t.useCallback)((function(){var e={id:r};c().then((function(n){a(n,e)}))}),[r,c,a]);return l.a.createElement(w.a,{onClick:o},"Delete")})),Me=function(e){var n=e.refreshAccount,a=e.addAccount,r=Object(d.b)().getAccessTokenSilently,c=Object(t.useCallback)((function(e,n){var t={public_token:e,metadata:n};r().then((function(e){a(e,t)}))}),[a,r]),o=Object(t.useCallback)((function(e,a){var t={public_token:e,metadata:a};r().then((function(e){n({token:e,plaidData:t})}))}),[r,n]),i={clientName:"WaiWai localhost",publicKey:"b506a1d13e2c7e9d3a5f835103897e",env:"sandbox",product:["transactions"],onSuccess:c};e.existingAccount&&e.existingAccount.toRefresh&&(i.token=e.existingAccount.publicToken,i.onSuccess=o);var u=Object(je.usePlaidLink)(i),s=u.open,m=u.ready;return l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a,{onClick:function(){return s()},disabled:!m||e.existingAccount&&!e.existingAccount.toRefresh},e.buttonText))};Me.displayName="Plaid";var ze={addAccount:function(e,n){return function(a,t){var l=t();e&&Fe(e),be.a.post("/api/plaid/accounts/add",n).then((function(e){return a({type:"ADD_ACCOUNT",payload:e.data})})).then((function(n){return l.plaid.accounts?a(Be(e,l.plaid.accounts.concat(n.payload))):null})).catch((function(e){return console.log(e)}))}},refreshAccount:function(e){return function(n){var a=e.metadata.institution.institution_id,t=e.accounts;be.a.post("/api/plaid/accounts/refresh/".concat(a),e).then((function(e){return n({type:"REFRESH_ACCOUNT",payload:a})})).then((function(e){return t?n(Be(t)):null})).catch((function(e){return console.log(e)}))}}},Ie=Object(u.b)((function(e){return{}}),ze)(Me),Pe=Object(u.b)((function(e){return{accounts:e.plaid.accounts,accountsLoading:e.plaid.accountsLoading}}),{})((function(e){var n=e.accounts.map((function(e,n){return l.a.createElement("div",{className:"row mb-4",key:e._id},l.a.createElement("div",{className:"col"},l.a.createElement("h2",null,e.institutionName),l.a.createElement(Ie,{className:"Secondary",buttonText:"Refresh",existingAccount:e})," ",l.a.createElement("span",{className:"notButton"},l.a.createElement(Ge,{account:e}))))})),a=l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement(Ie,{buttonText:"Connect a new bank account",existingAccount:null})));return l.a.createElement(l.a.Fragment,null,l.a.createElement(Te,{mainHeaderText:"Bank Accounts",subHeaderText:"",colorClassName:"section-header-blue"}),l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"})),e.accountsLoading?l.a.createElement(l.a.Fragment,null):n,a)))})),We=Object(u.b)((function(e){return{auth:e.auth,spendRangeDaysSelected:e.plaid.spendRangeDaysSelected}}),{})((function(e){var n=Object(d.b)().user;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Te,{mainHeaderText:"Profile",subHeaderText:"",colorClassName:"section-header-green"}),l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("img",{src:n.picture,alt:n.name}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},"Name: ",n.name)),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},"Email: ",n.email)),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},"You are using this date range:")),l.a.createElement("div",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("select",{className:"selectpicker","data-style":"btn btn-default",defaultValue:e.spendRangeDaysSelected},l.a.createElement("option",{disabled:!0,value:0}," ","Choose date range"),[7,14,30].map((function(e,n){return l.a.createElement("option",{key:n,value:e},e+" days")}))))))))})),Ke=a(37),Ve=a(428),Ze={isAuthenticated:!0,user:{id:"123456789012345678901234",name:"Test Person",iat:null,exp:null,budgets:{},categoryMap:{}},loading:!1,budgets:{Food:200,Debt:50,Transportation:20,Entertainment:10,Personal:100},expenseBudgetSum:380,categoryMap:{"Food and Drink":"Groceries",Shops:"Shopping",Travel:"Travel",Recreation:"Entertainment"}},qe={},Je={accounts:[{_id:"5f463ad8516e210bc63abece",userId:"google-oauth2|105271710635022631997",itemId:"opQp5nVm7yUowrAPe6L1iJBpJzWz7JiopxMqQ",institutionId:"ins_6",institutionName:"US Bank",__v:0},{_id:"5f46de58a4441204a56d2039",userId:"google-oauth2|105271710635022631997",itemId:"NxNQP1RNo5uoQgRqjqqNtwnJXJ38axTyjJ9wA",institutionId:"ins_13",institutionName:"PNC",__v:0}],transactions:[{accountName:"PNC",transactions:[{account_id:"RNMLGg8MW5frvGZMlMMbFD8R1vW1wRuRjAKxw",account_owner:null,amount:-6.33,authorized_date:null,category:["Transportation","Taxi"],category_id:"22016000",date:"2020-08-26",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Uber",name:"Uber 072515 SF**POOL**",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"EyKx349Kj5SjlZ4rRrrzhN43bAveWjuXbJEaQ",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Travel","Taxi"],waiwai_categories:["Transportation","Taxi"]},{account_id:"Dmq3Ba8qP5tP9aAQwQQ8iMaGpJBpjGSveJglG",account_owner:null,amount:-500,authorized_date:null,category:["Food","Restaurants"],category_id:"13005000",date:"2020-08-23",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Tectra Inc",name:"Tectra Inc",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"RNMLGg8MW5frvGZMlMMbFD8KaZVyRbFR83G6X",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants"],waiwai_categories:["Food","Restaurants"]},{account_id:"Dmq3Ba8qP5tP9aAQwQQ8iMaGpJBpjGSveJglG",account_owner:null,amount:-2078.5,authorized_date:null,category:["Debt",""],category_id:"16000000",date:"2020-08-22",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"AUTOMATIC PAYMENT - THANK",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"Dmq3Ba8qP5tP9aAQwQQ8iMakxA3mGXtvbxXA7",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Payment"],waiwai_categories:["Debt",""]},{account_id:"Dmq3Ba8qP5tP9aAQwQQ8iMaGpJBpjGSveJglG",account_owner:null,amount:-500,authorized_date:null,category:["Food","Restaurants"],category_id:"13005032",date:"2020-08-22",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"KFC",name:"KFC",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"XZGlrn8Gy5CmzK31W11XtzVRj3dmZLCdGqx7y",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants","Fast Food"],waiwai_categories:["Food","Restaurants"]},{account_id:"Dmq3Ba8qP5tP9aAQwQQ8iMaGpJBpjGSveJglG",account_owner:null,amount:-500,authorized_date:null,category:["Personal","Sporting Goods"],category_id:"19046000",date:"2020-08-22",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Madison Bicycle Shop",name:"Madison Bicycle Shop",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"6Z6MvWg6R8C8my1KqKKjhPo1Mqjagktg4LxEx",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Shops","Sporting Goods"],waiwai_categories:["Personal","Sporting Goods"]},{account_id:"6Z6MvWg6R8C8my1KqKKjhPogJ6AJygugJeWaz",account_owner:null,amount:-25,authorized_date:null,category:["Debt","Credit Card"],category_id:"16001000",date:"2020-08-13",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"CREDIT CARD 3333 PAYMENT *//",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"yQKxrlVKGeipaZrokooxF1B4naXE7oTyxeDJy",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Payment","Credit Card"],waiwai_categories:["Debt","Credit Card"]},{account_id:"RNMLGg8MW5frvGZMlMMbFD8R1vW1wRuRjAKxw",account_owner:null,amount:-5.4,authorized_date:null,category:["Transportation","Taxi"],category_id:"22016000",date:"2020-08-13",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Uber",name:"Uber 063015 SF**POOL**",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"WQMEkGRMm5idgeMw9wwrhZJx4jz5GXulgK4d8",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Travel","Taxi"],waiwai_categories:["Transportation","Taxi"]},{account_id:"VeL8qAWLb5Fn1NZlmllKTewlA1bAJltWkE45A",account_owner:null,amount:-5850,authorized_date:null,category:["Personal","Debit"],category_id:"21006000",date:"2020-08-12",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"ACH Electronic CreditGUSTO PAY 123456",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:"ACH",payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"5QbZ5Eobvgikz19qZqqau1Pn5lXaGbTZ9Mpaj",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Transfer","Debit"],waiwai_categories:["Personal","Debit"]},{account_id:"XZGlrn8Gy5CmzK31W11XtzVZlyNlqZidgL4MJ",account_owner:null,amount:-1e3,authorized_date:null,category:["Income","Deposit"],category_id:"21007000",date:"2020-08-12",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"CD DEPOSIT .INITIAL.",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"vjDzlVqDEPi75D38B88ztmygA5k17dsWrAXLv",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Transfer","Deposit"],waiwai_categories:["Income","Deposit"]},{account_id:"Dmq3Ba8qP5tP9aAQwQQ8iMaGpJBpjGSveJglG",account_owner:null,amount:-78.5,authorized_date:null,category:["Entertainment","Gyms and Fitness Centers"],category_id:"17018000",date:"2020-08-11",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Touchstone",name:"Touchstone Climbing",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"VeL8qAWLb5Fn1NZlmllKTew5dZ36lWiWzenjD",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Recreation","Gyms and Fitness Centers"],waiwai_categories:["Entertainment","Gyms and Fitness Centers"]},{account_id:"RNMLGg8MW5frvGZMlMMbFD8R1vW1wRuRjAKxw",account_owner:null,amount:500,authorized_date:null,category:["Transportation","Airlines and Aviation Services"],category_id:"22001000",date:"2020-08-11",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"United Airlines",name:"United Airlines",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"AGVrK3nVaRTaVgPjRjjqtmxoRPb6Wgs1zEobm",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Travel","Airlines and Aviation Services"],waiwai_categories:["Transportation","Airlines and Aviation Services"]},{account_id:"RNMLGg8MW5frvGZMlMMbFD8R1vW1wRuRjAKxw",account_owner:null,amount:-12,authorized_date:null,category:["Food","Restaurants"],category_id:"13005032",date:"2020-08-10",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:"3322",zip:null},merchant_name:"McDonald's",name:"McDonald's",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"GlzadPQze5iemkW3B33oudnEz6WmAXf1kynVL",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants","Fast Food"],waiwai_categories:["Food","Restaurants"]},{account_id:"RNMLGg8MW5frvGZMlMMbFD8R1vW1wRuRjAKxw",account_owner:null,amount:-4.33,authorized_date:null,category:["Food","Restaurants"],category_id:"13005043",date:"2020-08-10",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Starbucks",name:"Starbucks",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"nkDoAV5DZzcboBJwmww3Swz58vWy69C6vwGa7",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants","Coffee Shop"],waiwai_categories:["Food","Restaurants"]},{account_id:"RNMLGg8MW5frvGZMlMMbFD8R1vW1wRuRjAKxw",account_owner:null,amount:-89.4,authorized_date:null,category:["Food","Restaurants"],category_id:"13005000",date:"2020-08-09",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Sparkfun",name:"SparkFun",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"bAX4yVxXBJS1RM8DvDDxupmaL6G85WuV8Q3Rg",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants"],waiwai_categories:["Food","Restaurants"]},{account_id:"6Z6MvWg6R8C8my1KqKKjhPogJ6AJygugJeWaz",account_owner:null,amount:4.22,authorized_date:null,category:["Income","Credit"],category_id:"21005000",date:"2020-08-08",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"INTRST PYMNT",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"9L7p6n87qAuqvEZBQBBjF6Br1zobnqFRjaE74",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Transfer","Credit"],waiwai_categories:["Income","Credit"]},{account_id:"Dmq3Ba8qP5tP9aAQwQQ8iMaGpJBpjGSveJglG",account_owner:null,amount:-500,authorized_date:null,category:["Transportation","Airlines and Aviation Services"],category_id:"22001000",date:"2020-07-29",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"United Airlines",name:"United Airlines",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"w7lBqVKlWjTQ963eXeeWfzGdlrE1gvCrJjl4M",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Travel","Airlines and Aviation Services"],waiwai_categories:["Transportation","Airlines and Aviation Services"]},{account_id:"RNMLGg8MW5frvGZMlMMbFD8R1vW1wRuRjAKxw",account_owner:null,amount:-6.33,authorized_date:null,category:["Transportation","Taxi"],category_id:"22016000",date:"2020-07-27",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Uber",name:"Uber 072515 SF**POOL**",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"mzDpAV5DQktbG5jg9ggQSewrqRybo8iL6zAG7",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Travel","Taxi"],waiwai_categories:["Transportation","Taxi"]}]},{accountName:"US Bank",transactions:[{account_id:"W6V6RDGy9ksGE5KDNaJvfDwgK753ywflre46b",account_owner:null,amount:-6.33,authorized_date:null,category:["Transportation","Taxi"],category_id:"22016000",date:"2020-08-26",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Uber",name:"Uber 072515 SF**POOL**",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"1X5XlEpMaWTd8qjM9JlkI1pV3Ln8jxf5g6mp3",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Travel","Taxi"],waiwai_categories:["Transportation","Taxi"]},{account_id:"nLeL5nVQjAsx6Kr9ZDWAiB7MPlyEZ7C6d1GAR",account_owner:null,amount:-500,authorized_date:null,category:["Food","Restaurants"],category_id:"13005000",date:"2020-08-23",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Tectra Inc",name:"Tectra Inc",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"nLeL5nVQjAsx6Kr9ZDWAiB71mwAVjEi6d1GAx",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants"],waiwai_categories:["Food","Restaurants"]},{account_id:"nLeL5nVQjAsx6Kr9ZDWAiB7MPlyEZ7C6d1GAR",account_owner:null,amount:-2078.5,authorized_date:null,category:["Debt",""],category_id:"16000000",date:"2020-08-22",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"AUTOMATIC PAYMENT - THANK",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"ymymVnlWprtgXjzRdyWqiQpMl1RNzdUy9VDKx",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Payment"],waiwai_categories:["Debt",""]},{account_id:"nLeL5nVQjAsx6Kr9ZDWAiB7MPlyEZ7C6d1GAR",account_owner:null,amount:-500,authorized_date:null,category:["Food","Restaurants"],category_id:"13005032",date:"2020-08-22",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"KFC",name:"KFC",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"m1715nVXPAiBDqKx8MVXS5KL9e7pDNULbBA4x",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants","Fast Food"],waiwai_categories:["Food","Restaurants"]},{account_id:"nLeL5nVQjAsx6Kr9ZDWAiB7MPlyEZ7C6d1GAR",account_owner:null,amount:-500,authorized_date:null,category:["Personal","Sporting Goods"],category_id:"19046000",date:"2020-08-22",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Madison Bicycle Shop",name:"Madison Bicycle Shop",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"bdrdxWVzqySa347kpeWbiD9RnpBEZKcV5A3oW",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Shops","Sporting Goods"],waiwai_categories:["Personal","Sporting Goods"]},{account_id:"A767nE3kmKu1nZQp93E4c4a5Qe67LaF17qo9j",account_owner:null,amount:-25,authorized_date:null,category:["Debt","Credit Card"],category_id:"16001000",date:"2020-08-13",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"CREDIT CARD 3333 PAYMENT *//",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"W6V6RDGy9ksGE5KDNaJvfDw8EZLRA3clre46d",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Payment","Credit Card"],waiwai_categories:["Debt","Credit Card"]},{account_id:"W6V6RDGy9ksGE5KDNaJvfDwgK753ywflre46b",account_owner:null,amount:-5.4,authorized_date:null,category:["Transportation","Taxi"],category_id:"22016000",date:"2020-08-13",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Uber",name:"Uber 063015 SF**POOL**",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"LE6EVDZN9PFDq5pNemZ9s9N6r5BX81cPbZ9kq",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Travel","Taxi"],waiwai_categories:["Transportation","Taxi"]},{account_id:"bdrdxWVzqySa347kpeWbiD9glX8KP9fV5A3me",account_owner:null,amount:-5850,authorized_date:null,category:["Personal","Debit"],category_id:"21006000",date:"2020-08-12",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"ACH Electronic CreditGUSTO PAY 123456",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:"ACH",payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"Rm6m8Dgy9GtL65P4xz8aiWkwJDz9jNTRKeGP3",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Transfer","Debit"],waiwai_categories:["Personal","Debit"]},{account_id:"GLALQDPxmdsNx5R1qPaVFVyZ3omPQyu1lDn69",account_owner:null,amount:-1e3,authorized_date:null,category:["Income","Deposit"],category_id:"21007000",date:"2020-08-12",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"CD DEPOSIT .INITIAL.",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"GLALQDPxmdsNx5R1qPaVFVy4gdl9aPC1lDn6D",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Transfer","Deposit"],waiwai_categories:["Income","Deposit"]},{account_id:"nLeL5nVQjAsx6Kr9ZDWAiB7MPlyEZ7C6d1GAR",account_owner:null,amount:-78.5,authorized_date:null,category:["Entertainment","Gyms and Fitness Centers"],category_id:"17018000",date:"2020-08-11",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Touchstone",name:"Touchstone Climbing",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"93D38EnMZ6iWna15LyRwuwPZl6DJyLHRLdEq5",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Recreation","Gyms and Fitness Centers"],waiwai_categories:["Entertainment","Gyms and Fitness Centers"]},{account_id:"W6V6RDGy9ksGE5KDNaJvfDwgK753ywflre46b",account_owner:null,amount:500,authorized_date:null,category:["Transportation","Airlines and Aviation Services"],category_id:"22001000",date:"2020-08-11",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"United Airlines",name:"United Airlines",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"poZo5nVReASedzBMjWbDf9KJpWejZ6cL4PKpX",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Travel","Airlines and Aviation Services"],waiwai_categories:["Transportation","Airlines and Aviation Services"]},{account_id:"W6V6RDGy9ksGE5KDNaJvfDwgK753ywflre46b",account_owner:null,amount:-12,authorized_date:null,category:["Food","Restaurants"],category_id:"13005032",date:"2020-08-10",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:"3322",zip:null},merchant_name:"McDonald's",name:"McDonald's",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"opQp5nVm7yUowrAPe6L1iJBzXEWKd5cRa6KoA",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants","Fast Food"],waiwai_categories:["Food","Restaurants"]},{account_id:"W6V6RDGy9ksGE5KDNaJvfDwgK753ywflre46b",account_owner:null,amount:-4.33,authorized_date:null,category:["Food","Restaurants"],category_id:"13005043",date:"2020-08-10",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Starbucks",name:"Starbucks",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"gjdjbWVa37UakeDMZPGbiEZ5ApLwoPfgbAMEd",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants","Coffee Shop"],waiwai_categories:["Food","Restaurants"]},{account_id:"W6V6RDGy9ksGE5KDNaJvfDwgK753ywflre46b",account_owner:null,amount:-89.4,authorized_date:null,category:["Food","Restaurants"],category_id:"13005000",date:"2020-08-09",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Sparkfun",name:"SparkFun",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"8BABpEGjQZsRedykq8ZntlKzrB6aJAFwADrWE",transaction_type:"place",unofficial_currency_code:null,plaid_categories:["Food and Drink","Restaurants"],waiwai_categories:["Food","Restaurants"]},{account_id:"A767nE3kmKu1nZQp93E4c4a5Qe67LaF17qo9j",account_owner:null,amount:4.22,authorized_date:null,category:["Income","Credit"],category_id:"21005000",date:"2020-08-08",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:null,name:"INTRST PYMNT",payment_channel:"other",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"A767nE3kmKu1nZQp93E4c4aDBmJMw7u17qo9n",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Transfer","Credit"],waiwai_categories:["Income","Credit"]},{account_id:"nLeL5nVQjAsx6Kr9ZDWAiB7MPlyEZ7C6d1GAR",account_owner:null,amount:-500,authorized_date:null,category:["Transportation","Airlines and Aviation Services"],category_id:"22001000",date:"2020-07-29",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"United Airlines",name:"United Airlines",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"vGyGqnVWklTwX4RJ9pAkiD4oamXRMxcWjyXvB",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Travel","Airlines and Aviation Services"],waiwai_categories:["Transportation","Airlines and Aviation Services"]},{account_id:"W6V6RDGy9ksGE5KDNaJvfDwgK753ywflre46b",account_owner:null,amount:-6.33,authorized_date:null,category:["Transportation","Taxi"],category_id:"22016000",date:"2020-07-27",iso_currency_code:"USD",location:{address:null,city:null,lat:null,lon:null,state:null,store_number:null,zip:null},merchant_name:"Uber",name:"Uber 072515 SF**POOL**",payment_channel:"in store",payment_meta:{by_order_of:null,payee:null,payer:null,payment_method:null,payment_processor:null,ppd_id:null,reason:null,reference_number:null},pending:!1,pending_transaction_id:null,transaction_id:"EMbM9D4B63iKn5wo9mJVCVgoJNnXBrCXwWE4v",transaction_type:"special",unofficial_currency_code:null,plaid_categories:["Travel","Taxi"],waiwai_categories:["Transportation","Taxi"]}]}],accountsLoading:!1,transactionsLoading:!1,userFirstVisit:!1,incomeSum:1008.44,paycheckSum:0,otherIncomeSum:1008.44,spendingSum:22311.58,spendRangeDaysSelected:30,totalTransactionCount:34,reviewedTransactionCount:0,categoriesThisSpendRange:[{x:1,waiwaiName:"Housing",plaidName:"Housing",name:"Housing"},{x:2,waiwaiName:"Transportation",plaidName:"Transportation",name:"Transportation"},{x:3,waiwaiName:"Food",plaidName:"Food",name:"Food"},{x:4,waiwaiName:"Utilities",plaidName:"Utilities",name:"Utilities"},{x:5,waiwaiName:"Insurance & Healthcare",plaidName:"Insurance & Healthcare",name:"Insurance & Healthcare"},{x:6,waiwaiName:"Debt",plaidName:"Debt",name:"Debt"},{x:7,waiwaiName:"Personal",plaidName:"Personal",name:"Personal"},{x:8,waiwaiName:"Education",plaidName:"Education",name:"Education"},{x:9,waiwaiName:"Child Care",plaidName:"Child Care",name:"Child Care"},{x:10,waiwaiName:"Entertainment",plaidName:"Recreation",name:"Entertainment"},{x:11,waiwaiName:"Savings",plaidName:"Savings",name:"Savings"},{x:12,waiwaiName:"Income",plaidName:"Income",name:"Income"}],spendingByCategory:{Housing:0,Transportation:1036.12,Food:2211.46,Utilities:0,"Insurance & Healthcare":0,Debt:4207,Personal:12700,Education:0,"Child Care":0,Entertainment:157,Savings:0,Income:2e3},sortedCategoriesUnderBudget:["Savings","Utilities","Insurance & Healthcare","Education","Child Care","Housing"],sortedCategoriesOverBudget:["Transportation","Food","Debt","Personal","Income","Entertainment"]};var Qe=Object(Ke.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_CURRENT_USER":return Object(ye.a)(Object(ye.a)({},e),{},{isAuthenticated:!Ve(n.payload),user:n.payload});case"USER_LOADING":return Object(ye.a)(Object(ye.a)({},e),{},{loading:!0});case"SET_BUDGETS":return Object(ye.a)(Object(ye.a)({},e),{},{budgets:n.payload.allBudgets,expenseBudgetSum:n.payload.expenseBudgetSum});case"SET_CATEGORY_MAP":return Object(ye.a)(Object(ye.a)({},e),{},{categoryMap:n.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"GET_ERRORS":return n.payload;default:return e}},plaid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ACCOUNTS_LOADING":return Object(ye.a)(Object(ye.a)({},e),{},{accountsLoading:!0});case"ADD_ACCOUNT":return Object(ye.a)(Object(ye.a)({},e),{},{accounts:[].concat(Object(Ee.a)(e.accounts),[n.payload]),accountsLoading:!1,userFirstVisit:!1});case"REFRESH_ACCOUNT":return Object(ye.a)(Object(ye.a)({},e),{},{accounts:e.accounts.map((function(e){return e.institutionId!==n.payload?e:Object(ye.a)(Object(ye.a)({},e),{},{toRefresh:!1})}))});case"UPDATE_ACCOUNT":return Object(ye.a)(Object(ye.a)({},e),{},{accounts:e.accounts.map((function(e){return e._id!==n.payload._id?e:Object(ye.a)({},n.payload)}))});case"DELETE_ACCOUNT":return Object(ye.a)(Object(ye.a)({},e),{},{accounts:e.accounts.filter((function(e){return e._id!==n.payload}))});case"GET_ACCOUNTS":return Object(ye.a)(Object(ye.a)({},e),{},{accounts:n.payload,accountsLoading:!1});case"TRANSACTIONS_LOADING":return Object(ye.a)(Object(ye.a)({},e),{},{transactionsLoading:!0});case"GET_TRANSACTIONS":return Object(ye.a)(Object(ye.a)({},e),{},{transactions:n.payload,transactionsLoading:!1});case"SET_TRANSACTION_DATA":return Object(ye.a)(Object(ye.a)({},e),n.payload);case"USER_FIRST_VISIT":return Object(ye.a)(Object(ye.a)({},e),{},{userFirstVisit:!0});default:return e}}}),He={getTransactions:Be},Xe=Object(u.b)((function(e){return{accounts:e.plaid.accounts,transactions:e.plaid.transactions}}),He)((function(e){var n=Object(d.b)().getAccessTokenSilently,a=e.accounts,r=e.getTransactions,c=e.transactions;return Object(t.useEffect)((function(){c&&0===c.length&&n().then((function(e){r(e,a)}))}),[a,n,r,c]),l.a.createElement(l.a.Fragment,null)})),Ye={getAccounts:function(e){return function(n){e&&Fe(e),n(Le()),be.a.get("/api/plaid/accounts").then((function(e){return n({type:"GET_ACCOUNTS",payload:e.data})})).catch((function(e){console.log("Error 400 indicates user hasn't added any accounts yet"),n({type:"USER_FIRST_VISIT",payload:null})}))}},getUserInfo:function(e){return function(n){e&&Ne(e),be.a.get("/api/users/user-info").then((function(e){var a=e.data,t=a.budgets,l=a.expenseBudgetSum;n(we({allBudgets:t,expenseBudgetSum:l}))})).catch((function(e){var a=e;e.response&&(a=e.response.data),n({type:"GET_ERRORS",payload:a})}))}}},$e=(Object(u.b)((function(e){return{accounts:e.plaid.accounts,accountsLoading:e.plaid.accountsLoading}}),Ye)((function(e){var n=Object(d.b)().getAccessTokenSilently,a=e.accounts,r=e.getAccounts,c=e.accountsLoading,o=e.getUserInfo;return Object(t.useEffect)((function(){a&&0===a.length&&n().then((function(e){o(e),r(e,a)}))}),[a,n,r,o]),c?l.a.createElement(l.a.Fragment,null):l.a.createElement(Xe,null)})),Object(s.a)({reducer:Qe})),en=function(){var e=Object(d.b)(),n=e.isAuthenticated;return e.isLoading?l.a.createElement(_,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(A,null),l.a.createElement(l.a.Fragment,null),l.a.createElement(o.g,null,l.a.createElement(o.d,{exact:!0,path:"/mern-plaid/"},n?l.a.createElement(o.c,{to:"/spend-story"}):l.a.createElement(R,null)),l.a.createElement(y,{path:"/spend-story",component:me}),l.a.createElement(y,{path:"/spend-plan",component:De}),l.a.createElement(y,{path:"/manage-transactions",component:ke}),l.a.createElement(y,{path:"/user-profile",component:We}),l.a.createElement(y,{path:"/bank-accounts",component:Pe})),l.a.createElement(T,null))};var nn=function(){return l.a.createElement(u.a,{store:$e},l.a.createElement(i.BrowserRouter,null,l.a.createElement(m,null,l.a.createElement(en,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(nn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[372,1,2]]]);
//# sourceMappingURL=main.0ec0db87.chunk.js.map